/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => RSVPReaderPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/settings/RSVPSettingTab.ts
var import_obsidian = require("obsidian");
var RSVPSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "RSVP \u901F\u8BFB\u589E\u5F3A - \u8BBE\u7F6E" });
    containerEl.createEl("h3", { text: "\u6838\u5FC3\u9605\u8BFB\u8BBE\u7F6E" });
    new import_obsidian.Setting(containerEl).setName("\u9ED8\u8BA4\u9605\u8BFB\u901F\u5EA6").setDesc("\u521D\u59CB\u9605\u8BFB\u901F\u5EA6 (\u5355\u8BCD/\u5206\u949F)").addSlider((slider) => slider.setLimits(200, 1200, 50).setValue(this.plugin.settings.defaultSpeed).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.defaultSpeed = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u667A\u80FD\u6682\u505C").setDesc("\u5728\u6807\u70B9\u7B26\u53F7\u5904\u81EA\u52A8\u5EF6\u957F\u505C\u7559\u65F6\u95F4").addToggle((toggle) => toggle.setValue(this.plugin.settings.enableIntelligentPause).onChange(async (value) => {
      this.plugin.settings.enableIntelligentPause = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u6807\u70B9\u505C\u7559\u500D\u6570").setDesc("\u6807\u70B9\u7B26\u53F7\u5904\u505C\u7559\u65F6\u95F4\u7684\u500D\u6570").addSlider((slider) => slider.setLimits(1, 3, 0.1).setValue(this.plugin.settings.pauseMultiplierForPunctuation).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.pauseMultiplierForPunctuation = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h3", { text: "\u89C6\u89C9\u4E0E\u4EA4\u4E92" });
    new import_obsidian.Setting(containerEl).setName("\u7126\u70B9\u8BCD\u9AD8\u4EAE").setDesc("\u7A81\u51FA\u663E\u793A\u5F53\u524D\u9605\u8BFB\u7684\u8BCD").addToggle((toggle) => toggle.setValue(this.plugin.settings.highlightFocusWord).onChange(async (value) => {
      this.plugin.settings.highlightFocusWord = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u7126\u70B9\u8BCD\u989C\u8272").setDesc("\u9605\u8BFB\u7126\u70B9\u8BCD\u7684\u989C\u8272").addColorPicker((color) => color.setValue(this.plugin.settings.focusWordColor).onChange(async (value) => {
      this.plugin.settings.focusWordColor = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u524D\u8BCD\u989C\u8272").setDesc("\u7126\u70B9\u8BCD\u524D\u90E8\u5206\u7684\u989C\u8272").addColorPicker((color) => color.setValue(this.plugin.settings.beforeFocusColor).onChange(async (value) => {
      this.plugin.settings.beforeFocusColor = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u540E\u8BCD\u989C\u8272").setDesc("\u7126\u70B9\u8BCD\u540E\u90E8\u5206\u7684\u989C\u8272").addColorPicker((color) => color.setValue(this.plugin.settings.afterFocusColor).onChange(async (value) => {
      this.plugin.settings.afterFocusColor = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u5B57\u4F53\u5927\u5C0F").setDesc("\u9605\u8BFB\u6587\u5B57\u7684\u5927\u5C0F(\u50CF\u7D20)").addSlider((slider) => slider.setLimits(16, 48, 2).setValue(this.plugin.settings.fontSize).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.fontSize = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h3", { text: "\u8BA4\u77E5\u589E\u5F3A\u529F\u80FD" });
    new import_obsidian.Setting(containerEl).setName("\u547C\u5438\u5F15\u5BFC").setDesc("\u6839\u636E\u9605\u8BFB\u901F\u5EA6\u63D0\u4F9B\u547C\u5438\u8282\u594F\u5F15\u5BFC").addToggle((toggle) => toggle.setValue(this.plugin.settings.enableBreathingGuide).onChange(async (value) => {
      this.plugin.settings.enableBreathingGuide = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u97F3\u6548\u53CD\u9988").setDesc("\u4E3A\u5173\u952E\u64CD\u4F5C\u63D0\u4F9B\u73AF\u5883\u97F3\u6548").addToggle((toggle) => toggle.setValue(this.plugin.settings.enableSoundFeedback).onChange(async (value) => {
      this.plugin.settings.enableSoundFeedback = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h3", { text: "\u6570\u636E\u4E0E\u96C6\u6210" });
    new import_obsidian.Setting(containerEl).setName("\u4FDD\u5B58\u9605\u8BFB\u8FDB\u5EA6").setDesc("\u8BB0\u4F4F\u6BCF\u4E2A\u6587\u4EF6\u7684\u9605\u8BFB\u4F4D\u7F6E").addToggle((toggle) => toggle.setValue(this.plugin.settings.persistReadingProgress).onChange(async (value) => {
      this.plugin.settings.persistReadingProgress = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u601D\u7EF4\u5BFC\u56FE\u751F\u6210").setDesc("\u9605\u8BFB\u540E\u81EA\u52A8\u751F\u6210\u6587\u6863\u601D\u7EF4\u5BFC\u56FE").addToggle((toggle) => toggle.setValue(this.plugin.settings.enableMindmapGeneration).onChange(async (value) => {
      this.plugin.settings.enableMindmapGeneration = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u4E2D\u6587\u5206\u8BCD\u652F\u6301").setDesc("\u542F\u7528\u4E2D\u6587\u667A\u80FD\u5206\u8BCD\uFF08\u63A8\u8350\u4E2D\u6587\u7528\u6237\u5F00\u542F\uFF09").addToggle((toggle) => toggle.setValue(this.plugin.settings.useChineseTokenizer).onChange(async (value) => {
      this.plugin.settings.useChineseTokenizer = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u66F4\u65B0\u7B14\u8BB0\u5143\u6570\u636E").setDesc("\u5C06\u9605\u8BFB\u8FDB\u5EA6\u4FDD\u5B58\u5230\u7B14\u8BB0\u7684frontmatter").addToggle((toggle) => toggle.setValue(this.plugin.settings.updateFileFrontmatter || false).onChange(async (value) => {
      this.plugin.settings.updateFileFrontmatter = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h3", { text: "\u5173\u4E8E\u4E0E\u5E2E\u52A9" });
    containerEl.createEl("p", {
      text: "RSVP \u901F\u8BFB\u589E\u5F3A\u63D2\u4EF6\u7ED3\u5408\u4E86RSVP(Rapid Serial Visual Presentation)\u6280\u672F\u4E0EObsidian\u7684\u5F3A\u5927\u77E5\u8BC6\u7BA1\u7406\u529F\u80FD\uFF0C\u65E8\u5728\u63D0\u5347\u60A8\u7684\u9605\u8BFB\u6548\u7387\u3002"
    });
    containerEl.createEl("p", {
      text: "\u5982\u679C\u60A8\u559C\u6B22\u8FD9\u4E2A\u63D2\u4EF6\uFF0C\u8BF7\u8003\u8651\u7ED9\u9879\u76EE\u70B9\u4E2A\u661F\u6807\u3002"
    });
    new import_obsidian.Setting(containerEl).setName("\u4F7F\u7528\u8BF4\u660E").setDesc("\u67E5\u770B\u63D2\u4EF6\u8BE6\u7EC6\u4F7F\u7528\u6307\u5357").addButton((button) => button.setButtonText("\u6253\u5F00\u6559\u7A0B").onClick(() => {
      const tutorialFileName = "RSVP-\u901F\u8BFB\u589E\u5F3A-\u4F7F\u7528\u6307\u5357.md";
      const tutorialPath = normalizePath(tutorialFileName);
      this.app.vault.adapter.exists(tutorialPath).then((exists) => {
        if (!exists) {
          this.createTutorialFile(tutorialPath).then(() => {
            this.openTutorialFile(tutorialPath);
          });
        } else {
          this.openTutorialFile(tutorialPath);
        }
      });
    }));
  }
  async createTutorialFile(path) {
    const content = `# RSVP \u901F\u8BFB\u589E\u5F3A \u4F7F\u7528\u6307\u5357

## \u4EC0\u4E48\u662FRSVP\u9605\u8BFB\u6CD5\uFF1F

RSVP (Rapid Serial Visual Presentation) \u662F\u4E00\u79CD\u5FEB\u901F\u8FDE\u7EED\u89C6\u89C9\u5448\u73B0\u6280\u672F\uFF0C\u901A\u8FC7\u9010\u4E2A\u663E\u793A\u5355\u8BCD\u6765\u6D88\u9664\u773C\u7403\u79FB\u52A8\uFF0C\u53EF\u4EE5\u663E\u8457\u63D0\u9AD8\u9605\u8BFB\u901F\u5EA6\u3002

## \u57FA\u7840\u64CD\u4F5C

1. **\u542F\u52A8\u901F\u8BFB**: 
   - \u70B9\u51FBribbon\u680F\u7684\u901F\u8BFB\u56FE\u6807
   - \u6216\u4F7F\u7528\u547D\u4EE4\u9762\u677F\u6267\u884C"\u542F\u52A8\u901F\u8BFB\u6A21\u5F0F"

2. **\u63A7\u5236\u9605\u8BFB**:
   - \u6682\u505C/\u7EE7\u7EED: \u7A7A\u683C\u952E\u6216\u70B9\u51FB\u64AD\u653E/\u6682\u505C\u6309\u94AE
   - \u52A0\u901F/\u51CF\u901F: \u70B9\u51FB\u{1F407}/\u{1F422}\u6309\u94AE\u6216\u4F7F\u7528\u5DE6\u53F3\u6ED1\u52A8\u624B\u52BF
   - \u8DF3\u8F6C\u6BB5\u843D: \u70B9\u51FB\u23EE/\u23ED\u6309\u94AE\u6216\u4F7F\u7528\u4E0A\u4E0B\u6ED1\u52A8\u624B\u52BF

## \u63D0\u9AD8\u6548\u7387\u7684\u5C0F\u6280\u5DE7

- \u4ECE\u4F4E\u901F\u5F00\u59CB(300wpm)\uFF0C\u9010\u6E10\u63D0\u9AD8\u5230\u8212\u9002\u503C
- \u4F7F\u7528\u547C\u5438\u5F15\u5BFC\u529F\u80FD\u4FDD\u6301\u4E13\u6CE8
- \u5BF9\u91CD\u8981\u6587\u6863\u9605\u8BFB\u540E\u751F\u6210\u601D\u7EF4\u5BFC\u56FE
- \u914D\u5408\u95F4\u9694\u590D\u4E60\u7CFB\u7EDF\u4F7F\u7528

## \u9AD8\u7EA7\u529F\u80FD

- **\u667A\u80FD\u6682\u505C**: \u5728\u6807\u70B9\u5904\u81EA\u52A8\u5EF6\u957F\u505C\u7559
- **\u8FDB\u5EA6\u4FDD\u5B58**: \u8BB0\u4F4F\u6BCF\u4E2A\u6587\u4EF6\u7684\u9605\u8BFB\u4F4D\u7F6E
- **\u4E2D\u6587\u5206\u8BCD**: \u9488\u5BF9\u4E2D\u6587\u5185\u5BB9\u7684\u667A\u80FD\u5206\u8BCD
- **\u601D\u7EF4\u5BFC\u56FE**: \u9605\u8BFB\u540E\u751F\u6210\u6587\u6863\u7ED3\u6784\u56FE

\u795D\u60A8\u9605\u8BFB\u6109\u5FEB\uFF01`;
    await this.app.vault.create(path, content);
  }
  openTutorialFile(path) {
    let fileOpened = false;
    this.app.workspace.iterateAllLeaves((leaf) => {
      if (fileOpened)
        return;
      const file = this.app.vault.getAbstractFileByPath(path);
      if (file && file instanceof TFile) {
        leaf.openFile(file);
        fileOpened = true;
      }
    });
    if (!fileOpened) {
      const file = this.app.vault.getAbstractFileByPath(path);
      if (file && file instanceof TFile) {
        this.app.workspace.openLinkText(path, "", false);
      }
    }
  }
};

// src/components/RSVPView.ts
var import_obsidian2 = require("obsidian");

// src/components/RSVPControl.ts
var RSVPControl = class {
  constructor(options) {
    this.container = options.container;
    this.plugin = options.plugin;
    this.callbacks = {
      onPlay: options.onPlay,
      onPause: options.onPause,
      onClose: options.onClose,
      onSpeedChange: options.onSpeedChange,
      onProgressChange: options.onProgressChange,
      onJumpParagraph: options.onJumpParagraph
    };
    this.controlEl = document.createElement("div");
    this.controlEl.classList.add("rsvp-control-panel");
    this.speedEl = document.createElement("div");
    this.speedEl.classList.add("rsvp-speed-display");
    this.progressEl = document.createElement("div");
    this.progressEl.classList.add("rsvp-progress-bar");
    this.playPauseBtn = document.createElement("button");
    this.playPauseBtn.classList.add("rsvp-play-pause-button");
    this.playPauseBtn.innerHTML = "\u25B6";
  }
  render(fileName, initialSpeed) {
    const titleEl = document.createElement("div");
    titleEl.classList.add("rsvp-title");
    titleEl.textContent = fileName;
    this.controlEl.appendChild(titleEl);
    const progressContainer = document.createElement("div");
    progressContainer.classList.add("rsvp-progress-container");
    const progressBg = document.createElement("div");
    progressBg.classList.add("rsvp-progress-background");
    progressBg.appendChild(this.progressEl);
    progressContainer.appendChild(progressBg);
    progressBg.addEventListener("click", (e) => {
      const rect = progressBg.getBoundingClientRect();
      const progress = (e.clientX - rect.left) / rect.width;
      this.updateProgress(progress);
      this.callbacks.onProgressChange(progress);
    });
    this.controlEl.appendChild(progressContainer);
    const controlBar = document.createElement("div");
    controlBar.classList.add("rsvp-control-bar");
    const prevBtn = document.createElement("button");
    prevBtn.classList.add("rsvp-button");
    prevBtn.innerHTML = "\u23EE";
    prevBtn.title = "\u4E0A\u4E00\u6BB5";
    prevBtn.addEventListener("click", () => this.callbacks.onJumpParagraph(false));
    controlBar.appendChild(prevBtn);
    const slowDownBtn = document.createElement("button");
    slowDownBtn.classList.add("rsvp-button");
    slowDownBtn.innerHTML = "\u{1F422}";
    slowDownBtn.title = "\u51CF\u901F";
    slowDownBtn.addEventListener("click", () => {
      const currentSpeed = parseInt(this.speedEl.textContent.replace("wpm", ""));
      this.callbacks.onSpeedChange(Math.max(200, currentSpeed - 50));
    });
    controlBar.appendChild(slowDownBtn);
    this.playPauseBtn.addEventListener("click", () => {
      if (this.playPauseBtn.innerHTML === "\u25B6") {
        this.playPauseBtn.innerHTML = "\u23F8";
        this.callbacks.onPlay();
      } else {
        this.playPauseBtn.innerHTML = "\u25B6";
        this.callbacks.onPause();
      }
    });
    controlBar.appendChild(this.playPauseBtn);
    const speedUpBtn = document.createElement("button");
    speedUpBtn.classList.add("rsvp-button");
    speedUpBtn.innerHTML = "\u{1F407}";
    speedUpBtn.title = "\u52A0\u901F";
    speedUpBtn.addEventListener("click", () => {
      const currentSpeed = parseInt(this.speedEl.textContent.replace("wpm", ""));
      this.callbacks.onSpeedChange(Math.min(1200, currentSpeed + 50));
    });
    controlBar.appendChild(speedUpBtn);
    const nextBtn = document.createElement("button");
    nextBtn.classList.add("rsvp-button");
    nextBtn.innerHTML = "\u23ED";
    nextBtn.title = "\u4E0B\u4E00\u6BB5";
    nextBtn.addEventListener("click", () => this.callbacks.onJumpParagraph(true));
    controlBar.appendChild(nextBtn);
    const closeBtn = document.createElement("button");
    closeBtn.classList.add("rsvp-button", "rsvp-close-button");
    closeBtn.innerHTML = "\u2716";
    closeBtn.title = "\u5173\u95ED";
    closeBtn.addEventListener("click", () => this.callbacks.onClose());
    controlBar.appendChild(closeBtn);
    this.controlEl.appendChild(controlBar);
    const infoBar = document.createElement("div");
    infoBar.classList.add("rsvp-info-bar");
    this.speedEl.textContent = `${initialSpeed}wpm`;
    infoBar.appendChild(this.speedEl);
    if (this.plugin.settings.enableBreathingGuide) {
      const breathEl = document.createElement("div");
      breathEl.classList.add("rsvp-breath-guide");
      breathEl.innerHTML = '\u{1F32C} <span class="breath-animation">\u25C9</span>';
      infoBar.appendChild(breathEl);
    }
    this.controlEl.appendChild(infoBar);
    const tipEl = document.createElement("div");
    tipEl.classList.add("rsvp-tip");
    tipEl.textContent = "\u63D0\u793A: \u7A7A\u683C\u952E = \u6682\u505C/\u7EE7\u7EED";
    this.controlEl.appendChild(tipEl);
    this.container.appendChild(this.controlEl);
  }
  updateSpeed(speed) {
    this.speedEl.textContent = `${speed}wpm`;
    if (speed > 800) {
      this.speedEl.classList.add("rsvp-speed-high");
      this.speedEl.classList.remove("rsvp-speed-normal", "rsvp-speed-low");
    } else if (speed > 400) {
      this.speedEl.classList.add("rsvp-speed-normal");
      this.speedEl.classList.remove("rsvp-speed-high", "rsvp-speed-low");
    } else {
      this.speedEl.classList.add("rsvp-speed-low");
      this.speedEl.classList.remove("rsvp-speed-high", "rsvp-speed-normal");
    }
  }
  updateProgress(progress) {
    const percentage = Math.min(100, Math.max(0, progress * 100));
    this.progressEl.style.width = `${percentage}%`;
    this.progressEl.classList.remove("progress-wave-animation");
    void this.progressEl.offsetWidth;
    this.progressEl.classList.add("progress-wave-animation");
  }
  updatePlayState(isPaused) {
    if (isPaused) {
      this.playPauseBtn.innerHTML = "\u25B6";
    } else {
      this.playPauseBtn.innerHTML = "\u23F8";
    }
  }
  showCompletionMessage() {
    const message = document.createElement("div");
    message.classList.add("rsvp-completion-message");
    message.textContent = "\u9605\u8BFB\u5B8C\u6210\uFF01";
    const feedback = document.createElement("div");
    feedback.classList.add("rsvp-feedback");
    feedback.innerHTML = "\u{1F3AF} \u6709\u4EC0\u4E48\u611F\u60F3\uFF1F";
    feedback.addEventListener("click", () => {
    });
    message.appendChild(feedback);
    this.controlEl.appendChild(message);
    setTimeout(() => {
      if (message.parentNode === this.controlEl) {
        this.controlEl.removeChild(message);
      }
    }, 3e3);
  }
};

// src/components/RSVPView.ts
var RSVPView = class {
  constructor(options) {
    this.currentPosition = 0;
    this.isPaused = true;
    this.content = options.content;
    this.fileName = options.fileName;
    this.initialPosition = options.initialPosition;
    this.container = options.container;
    this.plugin = options.plugin;
    this.engine = options.engine;
    this.dataPersister = options.dataPersister;
    this.file = options.file;
    this.currentSpeed = this.plugin.settings.defaultSpeed;
    this.viewEl = document.createElement("div");
    this.viewEl.classList.add("rsvp-reader-container");
    const displayContainer = document.createElement("div");
    displayContainer.classList.add("rsvp-display-container");
    this.wordEl = document.createElement("div");
    this.wordEl.classList.add("rsvp-word");
    this.wordEl.style.fontSize = `${this.plugin.settings.fontSize}px`;
    displayContainer.appendChild(this.wordEl);
    this.viewEl.appendChild(displayContainer);
    this.control = new RSVPControl({
      container: this.viewEl,
      plugin: this.plugin,
      onPlay: () => this.play(),
      onPause: () => this.pause(),
      onClose: () => this.destroy(),
      onSpeedChange: (speed) => this.setSpeed(speed),
      onProgressChange: (progress) => this.setProgress(progress),
      onJumpParagraph: (forward) => this.jumpParagraph(forward)
    });
    this.registerGestures();
  }
  render() {
    this.container.appendChild(this.viewEl);
    this.engine.processText(this.content, this.initialPosition);
    this.control.render(this.fileName, this.currentSpeed);
    this.showCurrentWord();
  }
  play() {
    this.isPaused = false;
    this.control.updatePlayState(false);
    this.readNextWord();
  }
  pause() {
    this.isPaused = true;
    this.control.updatePlayState(true);
  }
  togglePause() {
    if (this.isPaused) {
      this.play();
    } else {
      this.pause();
    }
  }
  destroy() {
    if (this.plugin.settings.persistReadingProgress && this.file) {
      this.dataPersister.saveReadingProgress(this.file, {
        position: this.currentPosition,
        timestamp: Date.now()
      });
    }
    this.pause();
    if (this.viewEl && this.viewEl.parentElement) {
      this.viewEl.parentElement.removeChild(this.viewEl);
    }
    this.plugin.rsvpView = null;
  }
  increaseSpeed(amount) {
    this.setSpeed(this.currentSpeed + amount);
  }
  decreaseSpeed(amount) {
    this.setSpeed(Math.max(200, this.currentSpeed - amount));
  }
  setSpeed(speed) {
    this.currentSpeed = Math.min(1200, Math.max(200, speed));
    this.control.updateSpeed(this.currentSpeed);
  }
  setReadingPosition(position) {
    this.currentPosition = position;
    this.engine.setCurrentPosition(position);
    this.showCurrentWord();
    this.control.updateProgress(this.engine.getReadingProgress());
  }
  setProgress(progress) {
    const position = Math.floor(progress * this.engine.getTotalWords());
    this.setReadingPosition(position);
  }
  jumpParagraph(forward) {
    if (forward) {
      this.engine.jumpToNextParagraph();
    } else {
      this.engine.jumpToPreviousParagraph();
    }
    this.currentPosition = this.engine.getCurrentPosition();
    this.showCurrentWord();
    this.control.updateProgress(this.engine.getReadingProgress());
  }
  readNextWord() {
    if (this.isPaused)
      return;
    const nextWord = this.engine.getNextWord();
    if (nextWord) {
      this.currentPosition = this.engine.getCurrentPosition();
      this.showCurrentWord();
      this.control.updateProgress(this.engine.getReadingProgress());
      const displayTime = this.engine.getDisplayTimeForCurrentWord(this.currentSpeed);
      if (this.plugin.settings.enableBreathingGuide) {
        this.updateBreathingGuide();
      }
      setTimeout(() => this.readNextWord(), displayTime);
    } else {
      this.pause();
      this.control.showCompletionMessage();
      if (this.plugin.settings.enableMindmapGeneration) {
        this.generateMindmap();
      }
    }
  }
  showCurrentWord() {
    const wordData = this.engine.getCurrentWordData();
    if (!wordData)
      return;
    this.wordEl.innerHTML = "";
    if (this.plugin.settings.highlightFocusWord) {
      const beforeFocus = document.createElement("span");
      beforeFocus.classList.add("rsvp-before-focus");
      beforeFocus.style.color = this.plugin.settings.beforeFocusColor;
      beforeFocus.textContent = wordData.word.substring(0, wordData.focusPoint);
      const focus = document.createElement("span");
      focus.classList.add("rsvp-focus");
      focus.style.color = this.plugin.settings.focusWordColor;
      focus.textContent = wordData.word.charAt(wordData.focusPoint);
      const afterFocus = document.createElement("span");
      afterFocus.classList.add("rsvp-after-focus");
      afterFocus.style.color = this.plugin.settings.afterFocusColor;
      afterFocus.textContent = wordData.word.substring(wordData.focusPoint + 1);
      this.wordEl.appendChild(beforeFocus);
      this.wordEl.appendChild(focus);
      this.wordEl.appendChild(afterFocus);
    } else {
      this.wordEl.textContent = wordData.word;
    }
    if (wordData.isWikiLink) {
      this.wordEl.classList.add("rsvp-wikilink");
    } else {
      this.wordEl.classList.remove("rsvp-wikilink");
    }
    if (wordData.isKeyword) {
      this.wordEl.classList.add("rsvp-keyword");
    } else {
      this.wordEl.classList.remove("rsvp-keyword");
    }
  }
  updateBreathingGuide() {
    const wordPerSecond = this.currentSpeed / 60;
  }
  generateMindmap() {
    var _a;
    const mindmapContent = this.engine.generateMindmap();
    if (this.file) {
      const mindmapFileName = `${this.file.basename}-\u601D\u7EF4\u5BFC\u56FE.md`;
      const mindmapPath = (0, import_obsidian2.normalizePath)(`${((_a = this.file.parent) == null ? void 0 : _a.path) || ""}/${mindmapFileName}`);
      this.app.vault.create(mindmapPath, mindmapContent).then(() => {
        new Notice(`\u5DF2\u751F\u6210\u601D\u7EF4\u5BFC\u56FE\uFF1A${mindmapFileName}`);
      }).catch((err) => {
        console.error("\u601D\u7EF4\u5BFC\u56FE\u751F\u6210\u5931\u8D25", err);
        new Notice("\u601D\u7EF4\u5BFC\u56FE\u751F\u6210\u5931\u8D25");
      });
    }
  }
  registerGestures() {
    let startX = 0;
    let startY = 0;
    this.viewEl.addEventListener("touchstart", (e) => {
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    });
    this.viewEl.addEventListener("touchend", (e) => {
      const endX = e.changedTouches[0].clientX;
      const endY = e.changedTouches[0].clientY;
      const diffX = endX - startX;
      const diffY = endY - startY;
      if (Math.abs(diffX) > Math.abs(diffY)) {
        if (diffX > 50) {
          this.decreaseSpeed(50);
        } else if (diffX < -50) {
          this.increaseSpeed(50);
        }
      } else {
        if (diffY < -50) {
          this.jumpParagraph(true);
        } else if (diffY > 50) {
          this.jumpParagraph(false);
        }
      }
    });
  }
};

// src/models/RSVPEngine.ts
var RSVPEngine = class {
  constructor(settings, textProcessor) {
    this.words = [];
    this.currentPosition = 0;
    this.paragraphBreakPoints = [];
    this.settings = settings;
    this.textProcessor = textProcessor;
  }
  updateSettings(settings) {
    this.settings = settings;
  }
  processText(text, initialPosition) {
    const processedText = this.textProcessor.processMarkdown(text);
    this.words = [];
    this.paragraphBreakPoints = [];
    let startPosition = 0;
    let currentWordIndex = 0;
    if (initialPosition) {
      const textBefore = text.split("\n").slice(0, initialPosition.line).join("\n") + text.split("\n")[initialPosition.line].substring(0, initialPosition.ch);
      startPosition = this.textProcessor.approximateWordPosition(text, textBefore);
    }
    processedText.paragraphs.forEach((paragraph, pIndex) => {
      paragraph.words.forEach((word, wIndex) => {
        const focusPoint = this.calculateFocusPoint(word);
        this.words.push({
          word,
          isWikiLink: paragraph.wikiLinks.includes(word),
          isKeyword: paragraph.keywords.includes(word),
          isPunctuation: this.isPunctuation(word),
          focusPoint,
          paragraphBreak: false
        });
        currentWordIndex++;
      });
      if (this.words.length > 0) {
        this.words[this.words.length - 1].paragraphBreak = true;
        this.paragraphBreakPoints.push(this.words.length - 1);
      }
    });
    this.setCurrentPosition(startPosition);
  }
  getNextWord() {
    if (this.currentPosition >= this.words.length - 1) {
      return null;
    }
    this.currentPosition++;
    return this.getCurrentWordData();
  }
  getCurrentWordData() {
    if (this.currentPosition >= 0 && this.currentPosition < this.words.length) {
      return this.words[this.currentPosition];
    }
    return null;
  }
  getCurrentPosition() {
    return this.currentPosition;
  }
  setCurrentPosition(position) {
    this.currentPosition = Math.max(0, Math.min(position, this.words.length - 1));
  }
  getTotalWords() {
    return this.words.length;
  }
  getReadingProgress() {
    if (this.words.length === 0)
      return 0;
    return this.currentPosition / (this.words.length - 1);
  }
  getDisplayTimeForCurrentWord(baseSpeed) {
    const wordData = this.getCurrentWordData();
    if (!wordData)
      return 6e4 / baseSpeed;
    let displayTime = 6e4 / baseSpeed;
    if (this.settings.enableIntelligentPause && wordData.isPunctuation) {
      displayTime *= this.settings.pauseMultiplierForPunctuation;
    }
    if (wordData.paragraphBreak) {
      displayTime *= 1.5;
    }
    if (wordData.word.length > 8) {
      displayTime *= 1.2;
    }
    return displayTime;
  }
  jumpToNextParagraph() {
    for (const breakPoint of this.paragraphBreakPoints) {
      if (breakPoint > this.currentPosition) {
        this.setCurrentPosition(breakPoint + 1);
        return;
      }
    }
    this.setCurrentPosition(this.words.length - 1);
  }
  jumpToPreviousParagraph() {
    let prevBreak = 0;
    for (const breakPoint of this.paragraphBreakPoints) {
      if (breakPoint >= this.currentPosition) {
        break;
      }
      prevBreak = breakPoint;
    }
    this.setCurrentPosition(prevBreak);
  }
  generateMindmap() {
    let mindmapContent = "# \u6587\u6863\u601D\u7EF4\u5BFC\u56FE\n\n";
    const keywords = /* @__PURE__ */ new Set();
    this.words.forEach((word) => {
      if (word.isKeyword) {
        keywords.add(word.word);
      }
    });
    const structureAnalysis = this.textProcessor.analyzeDocumentStructure();
    mindmapContent += "## \u6838\u5FC3\u6982\u5FF5\n\n";
    keywords.forEach((keyword) => {
      mindmapContent += `- ${keyword}
`;
    });
    mindmapContent += "\n## \u6587\u6863\u7ED3\u6784\n\n";
    structureAnalysis.forEach((section, index) => {
      const indent = "  ".repeat(section.level - 1);
      mindmapContent += `${indent}- ${section.title}
`;
    });
    return mindmapContent;
  }
  calculateFocusPoint(word) {
    const wordLength = word.length;
    if (wordLength <= 1)
      return 0;
    return Math.min(Math.floor(wordLength / 3), 2);
  }
  isPunctuation(word) {
    const punctuations = [".", ",", "!", "?", ";", ":", "\u3002", "\uFF0C", "\uFF01", "\uFF1F", "\uFF1B", "\uFF1A", "\u3001"];
    return punctuations.includes(word[word.length - 1]);
  }
};

// src/utils/ChineseTokenizer.ts
var ChineseTokenizer = class {
  constructor() {
    this.segmentDict = /* @__PURE__ */ new Map();
    const commonWords = [
      "\u7814\u7A76",
      "\u5B66\u4E60",
      "\u65B9\u6CD5",
      "\u77E5\u8BC6",
      "\u7BA1\u7406",
      "\u7CFB\u7EDF",
      "\u601D\u7EF4",
      "\u5DE5\u4F5C",
      "\u6548\u7387",
      "\u63D0\u9AD8",
      "\u589E\u5F3A",
      "\u8BB0\u5FC6",
      "\u7406\u89E3",
      "\u5206\u6790",
      "\u6587\u7AE0",
      "\u9605\u8BFB",
      "\u901F\u5EA6",
      "\u8BA4\u77E5",
      "\u7B14\u8BB0",
      "\u590D\u4E60",
      "\u603B\u7ED3",
      "\u5B9E\u8DF5",
      "\u5E94\u7528",
      "\u6280\u5DE7"
    ];
    commonWords.forEach((word) => {
      this.segmentDict.set(word, 1);
    });
  }
  tokenize(text) {
    const result = [];
    let start = 0;
    while (start < text.length) {
      let foundMatch = false;
      let end = Math.min(start + 4, text.length);
      while (end > start) {
        const segment = text.substring(start, end);
        if (this.segmentDict.has(segment)) {
          result.push(segment);
          start = end;
          foundMatch = true;
          break;
        }
        end--;
      }
      if (!foundMatch) {
        if (/[a-zA-Z0-9]/.test(text[start])) {
          let wordEnd = start;
          while (wordEnd < text.length && /[a-zA-Z0-9]/.test(text[wordEnd])) {
            wordEnd++;
          }
          result.push(text.substring(start, wordEnd));
          start = wordEnd;
        } else if (/[，。！？；：""''（）、]/.test(text[start])) {
          if (result.length > 0) {
            result[result.length - 1] += text[start];
          } else {
            result.push(text[start]);
          }
          start++;
        } else {
          result.push(text[start]);
          start++;
        }
      }
    }
    return result;
  }
};

// src/utils/MarkdownParser.ts
var MarkdownParser = class {
  // 处理Markdown文本，提取纯文本内容和结构
  cleanMarkdown(markdown) {
    let cleanText = markdown;
    const wikiLinks = [];
    const wikiLinkRegex = /\[\[([^\]]+)\]\]/g;
    let match;
    while (match = wikiLinkRegex.exec(markdown)) {
      const linkText = match[1].split("|")[0];
      wikiLinks.push(linkText);
      const displayText = match[1].includes("|") ? match[1].split("|")[1] : linkText;
      cleanText = cleanText.replace(match[0], displayText);
    }
    cleanText = cleanText.replace(/```[\s\S]*?```/g, "");
    cleanText = cleanText.replace(/`[^`]*`/g, "");
    cleanText = cleanText.replace(/!\[([^\]]*)\]\([^)]+\)/g, "");
    cleanText = cleanText.replace(/\[([^\]]+)\]\([^)]+\)/g, "$1");
    cleanText = cleanText.replace(/<[^>]*>/g, "");
    cleanText = cleanText.replace(/(\*\*|__)(.*?)\1/g, "$2");
    cleanText = cleanText.replace(/(\*|_)(.*?)\1/g, "$2");
    cleanText = cleanText.replace(/^\s*[-*_]{3,}\s*$/gm, "\n");
    cleanText = cleanText.replace(/^#+\s+(.*?)$/gm, "$1\n");
    return { cleanText, wikiLinks };
  }
  parseDocumentStructure(markdown) {
    const structure = [];
    const headingRegex = /^(#{1,6})\s+(.*?)$/gm;
    let match;
    while (match = headingRegex.exec(markdown)) {
      const level = match[1].length;
      const title = match[2].trim();
      const position = match.index;
      structure.push({ level, title, position });
    }
    return structure;
  }
};

// src/models/TextProcessor.ts
var TextProcessor = class {
  constructor(useChineseTokenizer) {
    this.rawText = "";
    this.processedStructure = [];
    this.useChineseTokenizer = useChineseTokenizer;
    this.chineseTokenizer = new ChineseTokenizer();
    this.markdownParser = new MarkdownParser();
  }
  processMarkdown(text) {
    this.rawText = text;
    this.processedStructure = this.markdownParser.parseDocumentStructure(text);
    const { cleanText, wikiLinks } = this.markdownParser.cleanMarkdown(text);
    const keywords = this.extractKeywords(cleanText);
    const paragraphs = [];
    const paragraphTexts = cleanText.split(/\n\s*\n/);
    paragraphTexts.forEach((paragraphText) => {
      if (!paragraphText.trim())
        return;
      const words = this.tokenizeText(paragraphText);
      const paragraphWikiLinks = this.findWikiLinksInParagraph(paragraphText, wikiLinks);
      const paragraphKeywords = this.findKeywordsInParagraph(paragraphText, keywords);
      paragraphs.push({
        words,
        wikiLinks: paragraphWikiLinks,
        keywords: paragraphKeywords
      });
    });
    return { paragraphs };
  }
  approximateWordPosition(fullText, textBeforeCursor) {
    const { paragraphs } = this.processMarkdown(fullText);
    const allWords = paragraphs.flatMap((p) => p.words);
    const { paragraphs: beforeCursorParagraphs } = this.processMarkdown(textBeforeCursor);
    const beforeCursorWords = beforeCursorParagraphs.flatMap((p) => p.words);
    return Math.min(beforeCursorWords.length, allWords.length - 1);
  }
  analyzeDocumentStructure() {
    return this.processedStructure;
  }
  tokenizeText(text) {
    if (this.useChineseTokenizer && this.containsChinese(text)) {
      return this.chineseTokenizer.tokenize(text);
    }
    return text.trim().split(/\s+/).filter((word) => word.length > 0);
  }
  containsChinese(text) {
    const chineseRegex = /[\u4e00-\u9fa5]/;
    return chineseRegex.test(text);
  }
  extractKeywords(text) {
    const stopwords = /* @__PURE__ */ new Set(["\u7684", "\u662F", "\u5728", "\u4E86", "\u548C", "\u4E0E", "\u6216", "\u5BF9", "\u4E14", "the", "a", "an", "is", "are", "in", "on", "at", "to", "for", "with", "by", "of", "and", "or"]);
    const words = this.tokenizeText(text);
    const wordCounts = {};
    words.forEach((word) => {
      if (!stopwords.has(word.toLowerCase()) && word.length > 1) {
        wordCounts[word] = (wordCounts[word] || 0) + 1;
      }
    });
    const sortedWords = Object.entries(wordCounts).sort((a, b) => b[1] - a[1]).slice(0, 10).map((entry) => entry[0]);
    return sortedWords;
  }
  findWikiLinksInParagraph(paragraphText, allWikiLinks) {
    return allWikiLinks.filter((link) => paragraphText.includes(link));
  }
  findKeywordsInParagraph(paragraphText, allKeywords) {
    return allKeywords.filter((keyword) => paragraphText.includes(keyword));
  }
};

// src/utils/DataPersister.ts
var DataPersister = class {
  constructor(plugin) {
    this.readingProgressMap = /* @__PURE__ */ new Map();
    this.plugin = plugin;
    this.loadAllReadingProgress();
  }
  async saveReadingProgress(file, progress) {
    this.readingProgressMap.set(file.path, progress);
    await this.saveAllReadingProgress();
    if (this.plugin.settings.updateFileFrontmatter) {
      await this.updateFileFrontmatter(file, progress);
    }
  }
  async loadReadingProgress(file) {
    return this.readingProgressMap.get(file.path);
  }
  async loadAllReadingProgress() {
    const data = await this.plugin.loadData();
    if (data && data.readingProgress) {
      Object.entries(data.readingProgress).forEach(([path, progress]) => {
        this.readingProgressMap.set(path, progress);
      });
    }
  }
  async saveAllReadingProgress() {
    const data = await this.plugin.loadData() || {};
    data.readingProgress = {};
    this.readingProgressMap.forEach((progress, path) => {
      data.readingProgress[path] = progress;
    });
    await this.plugin.saveData(data);
  }
  async updateFileFrontmatter(file, progress) {
    const content = await this.plugin.app.vault.read(file);
    const frontmatterRegex = /^---\n([\s\S]*?)\n---/;
    const match = content.match(frontmatterRegex);
    let newContent;
    const readingTime = new Date(progress.timestamp).toISOString();
    const readingProgressPercentage = progress.position;
    if (match) {
      let frontmatter = match[1];
      if (frontmatter.includes("rsvp_last_position:")) {
        frontmatter = frontmatter.replace(/rsvp_last_position:.*$/m, `rsvp_last_position: ${progress.position}`);
      } else {
        frontmatter += `
rsvp_last_position: ${progress.position}`;
      }
      if (frontmatter.includes("rsvp_last_read:")) {
        frontmatter = frontmatter.replace(/rsvp_last_read:.*$/m, `rsvp_last_read: ${readingTime}`);
      } else {
        frontmatter += `
rsvp_last_read: ${readingTime}`;
      }
      newContent = content.replace(frontmatterRegex, `---
${frontmatter}
---`);
    } else {
      const newFrontmatter = `---
rsvp_last_position: ${progress.position}
rsvp_last_read: ${readingTime}
---`;
      newContent = `${newFrontmatter}

${content}`;
    }
    await this.plugin.app.vault.modify(file, newContent);
  }
};

// main.ts
var DEFAULT_SETTINGS = {
  defaultSpeed: 400,
  enableIntelligentPause: true,
  pauseMultiplierForPunctuation: 1.5,
  highlightFocusWord: true,
  enableBreathingGuide: false,
  enableSoundFeedback: false,
  focusWordColor: "#ff5555",
  beforeFocusColor: "#aaaaaa",
  afterFocusColor: "#aaaaaa",
  fontSize: 24,
  persistReadingProgress: true,
  enableMindmapGeneration: false,
  useChineseTokenizer: true
};
var RSVPReaderPlugin = class extends import_obsidian3.Plugin {
  constructor() {
    super(...arguments);
    this.rsvpView = null;
  }
  async onload() {
    console.log("\u52A0\u8F7D RSVP \u901F\u8BFB\u589E\u5F3A\u63D2\u4EF6");
    await this.loadSettings();
    this.textProcessor = new TextProcessor(this.settings.useChineseTokenizer);
    this.dataPersister = new DataPersister(this);
    this.engine = new RSVPEngine(this.settings, this.textProcessor);
    this.addRibbonIcon("play-circle", "\u542F\u52A8\u901F\u8BFB\u6A21\u5F0F", async (evt) => {
      this.activateRSVPReader();
    });
    this.addCommand({
      id: "start-rsvp-reader",
      name: "\u542F\u52A8\u901F\u8BFB\u6A21\u5F0F",
      editorCallback: (editor, view) => {
        this.activateRSVPReader();
      }
    });
    this.addCommand({
      id: "increase-rsvp-speed",
      name: "\u63D0\u9AD8\u901F\u8BFB\u901F\u5EA6",
      callback: () => {
        if (this.rsvpView) {
          this.rsvpView.increaseSpeed(50);
        }
      }
    });
    this.addCommand({
      id: "decrease-rsvp-speed",
      name: "\u964D\u4F4E\u901F\u8BFB\u901F\u5EA6",
      callback: () => {
        if (this.rsvpView) {
          this.rsvpView.decreaseSpeed(50);
        }
      }
    });
    this.addSettingTab(new RSVPSettingTab(this.app, this));
    this.registerDomEvent(document, "keydown", (evt) => {
      if (this.rsvpView && evt.key === " ") {
        this.rsvpView.togglePause();
        evt.preventDefault();
      }
    });
  }
  onunload() {
    console.log("\u5378\u8F7D RSVP \u901F\u8BFB\u589E\u5F3A\u63D2\u4EF6");
    if (this.rsvpView) {
      this.rsvpView.destroy();
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    if (this.engine) {
      this.engine.updateSettings(this.settings);
    }
  }
  activateRSVPReader() {
    var _a;
    const activeLeaf = this.app.workspace.activeLeaf;
    if (activeLeaf) {
      const view = activeLeaf.view;
      if (view instanceof import_obsidian3.MarkdownView) {
        const editor = view.editor;
        const cursorPos = editor.getCursor();
        const fileContent = editor.getValue();
        const fileName = ((_a = view.file) == null ? void 0 : _a.basename) || "\u672A\u547D\u540D";
        if (this.rsvpView) {
          this.rsvpView.destroy();
        }
        this.rsvpView = new RSVPView({
          content: fileContent,
          fileName,
          initialPosition: cursorPos,
          container: document.body,
          plugin: this,
          engine: this.engine,
          dataPersister: this.dataPersister,
          file: view.file
        });
        this.rsvpView.render();
        if (this.settings.persistReadingProgress && view.file) {
          this.dataPersister.loadReadingProgress(view.file).then((progress) => {
            if (progress && this.rsvpView) {
              this.rsvpView.setReadingPosition(progress.position);
            }
          });
        }
      } else {
        new Notice("\u8BF7\u5728Markdown\u7F16\u8F91\u533A\u57DF\u4E2D\u4F7F\u7528\u901F\u8BFB\u529F\u80FD");
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvc2V0dGluZ3MvUlNWUFNldHRpbmdUYWIudHMiLCAic3JjL2NvbXBvbmVudHMvUlNWUFZpZXcudHMiLCAic3JjL2NvbXBvbmVudHMvUlNWUENvbnRyb2wudHMiLCAic3JjL21vZGVscy9SU1ZQRW5naW5lLnRzIiwgInNyYy91dGlscy9DaGluZXNlVG9rZW5pemVyLnRzIiwgInNyYy91dGlscy9NYXJrZG93blBhcnNlci50cyIsICJzcmMvbW9kZWxzL1RleHRQcm9jZXNzb3IudHMiLCAic3JjL3V0aWxzL0RhdGFQZXJzaXN0ZXIudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgV29ya3NwYWNlTGVhZiwgTWFya2Rvd25WaWV3IH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgUlNWUFNldHRpbmdUYWIgfSBmcm9tICcuL3NyYy9zZXR0aW5ncy9SU1ZQU2V0dGluZ1RhYic7XG5pbXBvcnQgeyBSU1ZQVmlldyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvUlNWUFZpZXcnO1xuaW1wb3J0IHsgUlNWUEVuZ2luZSB9IGZyb20gJy4vc3JjL21vZGVscy9SU1ZQRW5naW5lJztcbmltcG9ydCB7IFRleHRQcm9jZXNzb3IgfSBmcm9tICcuL3NyYy9tb2RlbHMvVGV4dFByb2Nlc3Nvcic7XG5pbXBvcnQgeyBEYXRhUGVyc2lzdGVyIH0gZnJvbSAnLi9zcmMvdXRpbHMvRGF0YVBlcnNpc3Rlcic7XG5cbmludGVyZmFjZSBSU1ZQU2V0dGluZ3Mge1xuICBkZWZhdWx0U3BlZWQ6IG51bWJlcjtcbiAgZW5hYmxlSW50ZWxsaWdlbnRQYXVzZTogYm9vbGVhbjtcbiAgcGF1c2VNdWx0aXBsaWVyRm9yUHVuY3R1YXRpb246IG51bWJlcjtcbiAgaGlnaGxpZ2h0Rm9jdXNXb3JkOiBib29sZWFuO1xuICBlbmFibGVCcmVhdGhpbmdHdWlkZTogYm9vbGVhbjtcbiAgZW5hYmxlU291bmRGZWVkYmFjazogYm9vbGVhbjtcbiAgZm9jdXNXb3JkQ29sb3I6IHN0cmluZztcbiAgYmVmb3JlRm9jdXNDb2xvcjogc3RyaW5nO1xuICBhZnRlckZvY3VzQ29sb3I6IHN0cmluZztcbiAgZm9udFNpemU6IG51bWJlcjtcbiAgcGVyc2lzdFJlYWRpbmdQcm9ncmVzczogYm9vbGVhbjtcbiAgZW5hYmxlTWluZG1hcEdlbmVyYXRpb246IGJvb2xlYW47XG4gIHVzZUNoaW5lc2VUb2tlbml6ZXI6IGJvb2xlYW47XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFJTVlBTZXR0aW5ncyA9IHtcbiAgZGVmYXVsdFNwZWVkOiA0MDAsXG4gIGVuYWJsZUludGVsbGlnZW50UGF1c2U6IHRydWUsXG4gIHBhdXNlTXVsdGlwbGllckZvclB1bmN0dWF0aW9uOiAxLjUsXG4gIGhpZ2hsaWdodEZvY3VzV29yZDogdHJ1ZSxcbiAgZW5hYmxlQnJlYXRoaW5nR3VpZGU6IGZhbHNlLFxuICBlbmFibGVTb3VuZEZlZWRiYWNrOiBmYWxzZSxcbiAgZm9jdXNXb3JkQ29sb3I6ICcjZmY1NTU1JyxcbiAgYmVmb3JlRm9jdXNDb2xvcjogJyNhYWFhYWEnLFxuICBhZnRlckZvY3VzQ29sb3I6ICcjYWFhYWFhJyxcbiAgZm9udFNpemU6IDI0LFxuICBwZXJzaXN0UmVhZGluZ1Byb2dyZXNzOiB0cnVlLFxuICBlbmFibGVNaW5kbWFwR2VuZXJhdGlvbjogZmFsc2UsXG4gIHVzZUNoaW5lc2VUb2tlbml6ZXI6IHRydWVcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUlNWUFJlYWRlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHNldHRpbmdzOiBSU1ZQU2V0dGluZ3M7XG4gIGVuZ2luZTogUlNWUEVuZ2luZTtcbiAgdGV4dFByb2Nlc3NvcjogVGV4dFByb2Nlc3NvcjtcbiAgZGF0YVBlcnNpc3RlcjogRGF0YVBlcnNpc3RlcjtcbiAgcnN2cFZpZXc6IFJTVlBWaWV3IHwgbnVsbCA9IG51bGw7XG4gIFxuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coJ1x1NTJBMFx1OEY3RCBSU1ZQIFx1OTAxRlx1OEJGQlx1NTg5RVx1NUYzQVx1NjNEMlx1NEVGNicpO1xuICAgIFxuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG4gICAgXG4gICAgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU3RUM0XHU0RUY2XG4gICAgdGhpcy50ZXh0UHJvY2Vzc29yID0gbmV3IFRleHRQcm9jZXNzb3IodGhpcy5zZXR0aW5ncy51c2VDaGluZXNlVG9rZW5pemVyKTtcbiAgICB0aGlzLmRhdGFQZXJzaXN0ZXIgPSBuZXcgRGF0YVBlcnNpc3Rlcih0aGlzKTtcbiAgICB0aGlzLmVuZ2luZSA9IG5ldyBSU1ZQRW5naW5lKHRoaXMuc2V0dGluZ3MsIHRoaXMudGV4dFByb2Nlc3Nvcik7XG4gICAgXG4gICAgLy8gXHU2REZCXHU1MkEwXHU1NkZFXHU2ODA3XHU1MjMwXHU3RjE2XHU4RjkxXHU1NjY4XHU4M0RDXHU1MzU1XG4gICAgdGhpcy5hZGRSaWJib25JY29uKCdwbGF5LWNpcmNsZScsICdcdTU0MkZcdTUyQThcdTkwMUZcdThCRkJcdTZBMjFcdTVGMEYnLCBhc3luYyAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmFjdGl2YXRlUlNWUFJlYWRlcigpO1xuICAgIH0pO1xuXG4gICAgLy8gXHU2REZCXHU1MkEwXHU1NDdEXHU0RUU0XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnc3RhcnQtcnN2cC1yZWFkZXInLFxuICAgICAgbmFtZTogJ1x1NTQyRlx1NTJBOFx1OTAxRlx1OEJGQlx1NkEyMVx1NUYwRicsXG4gICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvciwgdmlldykgPT4ge1xuICAgICAgICB0aGlzLmFjdGl2YXRlUlNWUFJlYWRlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ2luY3JlYXNlLXJzdnAtc3BlZWQnLFxuICAgICAgbmFtZTogJ1x1NjNEMFx1OUFEOFx1OTAxRlx1OEJGQlx1OTAxRlx1NUVBNicsXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5yc3ZwVmlldykge1xuICAgICAgICAgIHRoaXMucnN2cFZpZXcuaW5jcmVhc2VTcGVlZCg1MCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdkZWNyZWFzZS1yc3ZwLXNwZWVkJyxcbiAgICAgIG5hbWU6ICdcdTk2NERcdTRGNEVcdTkwMUZcdThCRkJcdTkwMUZcdTVFQTYnLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucnN2cFZpZXcpIHtcbiAgICAgICAgICB0aGlzLnJzdnBWaWV3LmRlY3JlYXNlU3BlZWQoNTApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHU2REZCXHU1MkEwXHU4QkJFXHU3RjZFXHU5MDA5XHU5ODc5XHU1MzYxXG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBSU1ZQU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuICAgIFxuICAgIC8vIFx1NkNFOFx1NTE4Q1x1NEU4Qlx1NEVGNlx1NzZEMVx1NTQyQ1xuICAgIHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2tleWRvd24nLCAoZXZ0OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5yc3ZwVmlldyAmJiBldnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgdGhpcy5yc3ZwVmlldy50b2dnbGVQYXVzZSgpO1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgb251bmxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coJ1x1NTM3OFx1OEY3RCBSU1ZQIFx1OTAxRlx1OEJGQlx1NTg5RVx1NUYzQVx1NjNEMlx1NEVGNicpO1xuICAgIGlmICh0aGlzLnJzdnBWaWV3KSB7XG4gICAgICB0aGlzLnJzdnBWaWV3LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbiAgXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgfVxuICBcbiAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gICAgXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU1RjE1XHU2NENFXHU1REYyXHU1MjFEXHU1OUNCXHU1MzE2XHVGRjBDXHU2NkY0XHU2NUIwXHU4QkJFXHU3RjZFXG4gICAgaWYgKHRoaXMuZW5naW5lKSB7XG4gICAgICB0aGlzLmVuZ2luZS51cGRhdGVTZXR0aW5ncyh0aGlzLnNldHRpbmdzKTtcbiAgICB9XG4gIH1cbiAgXG4gIGFjdGl2YXRlUlNWUFJlYWRlcigpIHtcbiAgICBjb25zdCBhY3RpdmVMZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWY7XG4gICAgaWYgKGFjdGl2ZUxlYWYpIHtcbiAgICAgIGNvbnN0IHZpZXcgPSBhY3RpdmVMZWFmLnZpZXc7XG4gICAgICBpZiAodmlldyBpbnN0YW5jZW9mIE1hcmtkb3duVmlldykge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSB2aWV3LmVkaXRvcjtcbiAgICAgICAgY29uc3QgY3Vyc29yUG9zID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGVkaXRvci5nZXRWYWx1ZSgpO1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IHZpZXcuZmlsZT8uYmFzZW5hbWUgfHwgXCJcdTY3MkFcdTU0N0RcdTU0MERcIjtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NURGMlx1NjcwOVx1OTAxRlx1OEJGQlx1ODlDNlx1NTZGRVx1RkYwQ1x1NTE0OFx1OTUwMFx1NkJDMVx1NUI4M1xuICAgICAgICBpZiAodGhpcy5yc3ZwVmlldykge1xuICAgICAgICAgIHRoaXMucnN2cFZpZXcuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBcdTUyMUJcdTVFRkFSU1ZQXHU4OUM2XHU1NkZFXG4gICAgICAgIHRoaXMucnN2cFZpZXcgPSBuZXcgUlNWUFZpZXcoe1xuICAgICAgICAgIGNvbnRlbnQ6IGZpbGVDb250ZW50LFxuICAgICAgICAgIGZpbGVOYW1lOiBmaWxlTmFtZSxcbiAgICAgICAgICBpbml0aWFsUG9zaXRpb246IGN1cnNvclBvcyxcbiAgICAgICAgICBjb250YWluZXI6IGRvY3VtZW50LmJvZHksXG4gICAgICAgICAgcGx1Z2luOiB0aGlzLFxuICAgICAgICAgIGVuZ2luZTogdGhpcy5lbmdpbmUsXG4gICAgICAgICAgZGF0YVBlcnNpc3RlcjogdGhpcy5kYXRhUGVyc2lzdGVyLFxuICAgICAgICAgIGZpbGU6IHZpZXcuZmlsZVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucnN2cFZpZXcucmVuZGVyKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTRFQ0VcdTRFMEFcdTZCMjFcdTk2MDVcdThCRkJcdTRGNERcdTdGNkVcdTYwNjJcdTU5MERcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucGVyc2lzdFJlYWRpbmdQcm9ncmVzcyAmJiB2aWV3LmZpbGUpIHtcbiAgICAgICAgICB0aGlzLmRhdGFQZXJzaXN0ZXIubG9hZFJlYWRpbmdQcm9ncmVzcyh2aWV3LmZpbGUpLnRoZW4ocHJvZ3Jlc3MgPT4ge1xuICAgICAgICAgICAgaWYgKHByb2dyZXNzICYmIHRoaXMucnN2cFZpZXcpIHtcbiAgICAgICAgICAgICAgdGhpcy5yc3ZwVmlldy5zZXRSZWFkaW5nUG9zaXRpb24ocHJvZ3Jlc3MucG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBcdTYzRDBcdTc5M0FcdTc1MjhcdTYyMzdcdTVGNTNcdTUyNERcdTRFMERcdTY2MkZNYXJrZG93blx1ODlDNlx1NTZGRVxuICAgICAgICBuZXcgTm90aWNlKCdcdThCRjdcdTU3MjhNYXJrZG93blx1N0YxNlx1OEY5MVx1NTMzQVx1NTdERlx1NEUyRFx1NEY3Rlx1NzUyOFx1OTAxRlx1OEJGQlx1NTI5Rlx1ODBGRCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgUlNWUFJlYWRlclBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcblxuZXhwb3J0IGNsYXNzIFJTVlBTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogUlNWUFJlYWRlclBsdWdpbjtcbiAgXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFJTVlBSZWFkZXJQbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cbiAgXG4gIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcbiAgICBcbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xuICAgIFxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1JTVlAgXHU5MDFGXHU4QkZCXHU1ODlFXHU1RjNBIC0gXHU4QkJFXHU3RjZFJyB9KTtcbiAgICBcbiAgICAvLyBcdTU3RkFcdTc4NDBcdTk2MDVcdThCRkJcdThCQkVcdTdGNkVcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdTY4MzhcdTVGQzNcdTk2MDVcdThCRkJcdThCQkVcdTdGNkUnIH0pO1xuICAgIFxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1OUVEOFx1OEJBNFx1OTYwNVx1OEJGQlx1OTAxRlx1NUVBNicpXG4gICAgICAuc2V0RGVzYygnXHU1MjFEXHU1OUNCXHU5NjA1XHU4QkZCXHU5MDFGXHU1RUE2IChcdTUzNTVcdThCQ0QvXHU1MjA2XHU5NDlGKScpXG4gICAgICAuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcbiAgICAgICAgLnNldExpbWl0cygyMDAsIDEyMDAsIDUwKVxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFNwZWVkKVxuICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFNwZWVkID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pKTtcbiAgICBcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTY2N0FcdTgwRkRcdTY2ODJcdTUwNUMnKVxuICAgICAgLnNldERlc2MoJ1x1NTcyOFx1NjgwN1x1NzBCOVx1N0IyNlx1NTNGN1x1NTkwNFx1ODFFQVx1NTJBOFx1NUVGNlx1OTU3Rlx1NTA1Q1x1NzU1OVx1NjVGNlx1OTVGNCcpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUludGVsbGlnZW50UGF1c2UpXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVJbnRlbGxpZ2VudFBhdXNlID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pKTtcbiAgICBcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTY4MDdcdTcwQjlcdTUwNUNcdTc1NTlcdTUwMERcdTY1NzAnKVxuICAgICAgLnNldERlc2MoJ1x1NjgwN1x1NzBCOVx1N0IyNlx1NTNGN1x1NTkwNFx1NTA1Q1x1NzU1OVx1NjVGNlx1OTVGNFx1NzY4NFx1NTAwRFx1NjU3MCcpXG4gICAgICAuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcbiAgICAgICAgLnNldExpbWl0cygxLCAzLCAwLjEpXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYXVzZU11bHRpcGxpZXJGb3JQdW5jdHVhdGlvbilcbiAgICAgICAgLnNldER5bmFtaWNUb29sdGlwKClcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnBhdXNlTXVsdGlwbGllckZvclB1bmN0dWF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pKTtcbiAgICBcbiAgICAvLyBcdTg5QzZcdTg5QzlcdTRGNTNcdTlBOENcdThCQkVcdTdGNkVcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdTg5QzZcdTg5QzlcdTRFMEVcdTRFQTRcdTRFOTInIH0pO1xuICAgIFxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1NzEyNlx1NzBCOVx1OEJDRFx1OUFEOFx1NEVBRScpXG4gICAgICAuc2V0RGVzYygnXHU3QTgxXHU1MUZBXHU2NjNFXHU3OTNBXHU1RjUzXHU1MjREXHU5NjA1XHU4QkZCXHU3Njg0XHU4QkNEJylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlnaGxpZ2h0Rm9jdXNXb3JkKVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlnaGxpZ2h0Rm9jdXNXb3JkID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pKTtcbiAgICBcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTcxMjZcdTcwQjlcdThCQ0RcdTk4OUNcdTgyNzInKVxuICAgICAgLnNldERlc2MoJ1x1OTYwNVx1OEJGQlx1NzEyNlx1NzBCOVx1OEJDRFx1NzY4NFx1OTg5Q1x1ODI3MicpXG4gICAgICAuYWRkQ29sb3JQaWNrZXIoY29sb3IgPT4gY29sb3JcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZvY3VzV29yZENvbG9yKVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9jdXNXb3JkQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSkpO1xuICAgIFxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1NTI0RFx1OEJDRFx1OTg5Q1x1ODI3MicpXG4gICAgICAuc2V0RGVzYygnXHU3MTI2XHU3MEI5XHU4QkNEXHU1MjREXHU5MEU4XHU1MjA2XHU3Njg0XHU5ODlDXHU4MjcyJylcbiAgICAgIC5hZGRDb2xvclBpY2tlcihjb2xvciA9PiBjb2xvclxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYmVmb3JlRm9jdXNDb2xvcilcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmJlZm9yZUZvY3VzQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSkpO1xuICAgIFxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1NTQwRVx1OEJDRFx1OTg5Q1x1ODI3MicpXG4gICAgICAuc2V0RGVzYygnXHU3MTI2XHU3MEI5XHU4QkNEXHU1NDBFXHU5MEU4XHU1MjA2XHU3Njg0XHU5ODlDXHU4MjcyJylcbiAgICAgIC5hZGRDb2xvclBpY2tlcihjb2xvciA9PiBjb2xvclxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWZ0ZXJGb2N1c0NvbG9yKVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWZ0ZXJGb2N1c0NvbG9yID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pKTtcbiAgICBcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTVCNTdcdTRGNTNcdTU5MjdcdTVDMEYnKVxuICAgICAgLnNldERlc2MoJ1x1OTYwNVx1OEJGQlx1NjU4N1x1NUI1N1x1NzY4NFx1NTkyN1x1NUMwRihcdTUwQ0ZcdTdEMjApJylcbiAgICAgIC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxuICAgICAgICAuc2V0TGltaXRzKDE2LCA0OCwgMilcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbnRTaXplKVxuICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9udFNpemUgPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSkpO1xuICAgIFxuICAgIC8vIFx1OEJBNFx1NzdFNVx1NTg5RVx1NUYzQVx1OEJCRVx1N0Y2RVxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1x1OEJBNFx1NzdFNVx1NTg5RVx1NUYzQVx1NTI5Rlx1ODBGRCcgfSk7XG4gICAgXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU1NDdDXHU1NDM4XHU1RjE1XHU1QkZDJylcbiAgICAgIC5zZXREZXNjKCdcdTY4MzlcdTYzNkVcdTk2MDVcdThCRkJcdTkwMUZcdTVFQTZcdTYzRDBcdTRGOUJcdTU0N0NcdTU0MzhcdTgyODJcdTU5NEZcdTVGMTVcdTVCRkMnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVCcmVhdGhpbmdHdWlkZSlcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUJyZWF0aGluZ0d1aWRlID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pKTtcbiAgICBcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTk3RjNcdTY1NDhcdTUzQ0RcdTk5ODgnKVxuICAgICAgLnNldERlc2MoJ1x1NEUzQVx1NTE3M1x1OTUyRVx1NjRDRFx1NEY1Q1x1NjNEMFx1NEY5Qlx1NzNBRlx1NTg4M1x1OTdGM1x1NjU0OCcpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVNvdW5kRmVlZGJhY2spXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVTb3VuZEZlZWRiYWNrID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pKTtcbiAgICBcbiAgICAvLyBcdTY1NzBcdTYzNkVcdTRFMEVcdTk2QzZcdTYyMTBcdThCQkVcdTdGNkVcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdTY1NzBcdTYzNkVcdTRFMEVcdTk2QzZcdTYyMTAnIH0pO1xuICAgIFxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1NEZERFx1NUI1OFx1OTYwNVx1OEJGQlx1OEZEQlx1NUVBNicpXG4gICAgICAuc2V0RGVzYygnXHU4QkIwXHU0RjRGXHU2QkNGXHU0RTJBXHU2NTg3XHU0RUY2XHU3Njg0XHU5NjA1XHU4QkZCXHU0RjREXHU3RjZFJylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucGVyc2lzdFJlYWRpbmdQcm9ncmVzcylcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnBlcnNpc3RSZWFkaW5nUHJvZ3Jlc3MgPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSkpO1xuICAgIFxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1NjAxRFx1N0VGNFx1NUJGQ1x1NTZGRVx1NzUxRlx1NjIxMCcpXG4gICAgICAuc2V0RGVzYygnXHU5NjA1XHU4QkZCXHU1NDBFXHU4MUVBXHU1MkE4XHU3NTFGXHU2MjEwXHU2NTg3XHU2ODYzXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFJylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlTWluZG1hcEdlbmVyYXRpb24pXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVNaW5kbWFwR2VuZXJhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9KSk7XG4gICAgXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU0RTJEXHU2NTg3XHU1MjA2XHU4QkNEXHU2NTJGXHU2MzAxJylcbiAgICAgIC5zZXREZXNjKCdcdTU0MkZcdTc1MjhcdTRFMkRcdTY1ODdcdTY2N0FcdTgwRkRcdTUyMDZcdThCQ0RcdUZGMDhcdTYzQThcdTgzNTBcdTRFMkRcdTY1ODdcdTc1MjhcdTYyMzdcdTVGMDBcdTU0MkZcdUZGMDknKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VDaGluZXNlVG9rZW5pemVyKVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlQ2hpbmVzZVRva2VuaXplciA9IHZhbHVlO1xuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9KSk7XG4gICAgXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU2NkY0XHU2NUIwXHU3QjE0XHU4QkIwXHU1MTQzXHU2NTcwXHU2MzZFJylcbiAgICAgIC5zZXREZXNjKCdcdTVDMDZcdTk2MDVcdThCRkJcdThGREJcdTVFQTZcdTRGRERcdTVCNThcdTUyMzBcdTdCMTRcdThCQjBcdTc2ODRmcm9udG1hdHRlcicpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVwZGF0ZUZpbGVGcm9udG1hdHRlciB8fCBmYWxzZSlcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnVwZGF0ZUZpbGVGcm9udG1hdHRlciA9IHZhbHVlO1xuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9KSk7XG5cbiAgICAvLyBcdTUxNzNcdTRFOEVcdTRFMEVcdTUzQ0RcdTk5ODhcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdTUxNzNcdTRFOEVcdTRFMEVcdTVFMkVcdTUyQTknIH0pO1xuICAgIFxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywge1xuICAgICAgdGV4dDogJ1JTVlAgXHU5MDFGXHU4QkZCXHU1ODlFXHU1RjNBXHU2M0QyXHU0RUY2XHU3RUQzXHU1NDA4XHU0RTg2UlNWUChSYXBpZCBTZXJpYWwgVmlzdWFsIFByZXNlbnRhdGlvbilcdTYyODBcdTY3MkZcdTRFMEVPYnNpZGlhblx1NzY4NFx1NUYzQVx1NTkyN1x1NzdFNVx1OEJDNlx1N0JBMVx1NzQwNlx1NTI5Rlx1ODBGRFx1RkYwQ1x1NjVFOFx1NTcyOFx1NjNEMFx1NTM0N1x1NjBBOFx1NzY4NFx1OTYwNVx1OEJGQlx1NjU0OFx1NzM4N1x1MzAwMidcbiAgICB9KTtcbiAgICBcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHtcbiAgICAgIHRleHQ6ICdcdTU5ODJcdTY3OUNcdTYwQThcdTU1OUNcdTZCMjJcdThGRDlcdTRFMkFcdTYzRDJcdTRFRjZcdUZGMENcdThCRjdcdTgwMDNcdTg2NTFcdTdFRDlcdTk4NzlcdTc2RUVcdTcwQjlcdTRFMkFcdTY2MUZcdTY4MDdcdTMwMDInXG4gICAgfSk7XG4gICAgXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU0RjdGXHU3NTI4XHU4QkY0XHU2NjBFJylcbiAgICAgIC5zZXREZXNjKCdcdTY3RTVcdTc3MEJcdTYzRDJcdTRFRjZcdThCRTZcdTdFQzZcdTRGN0ZcdTc1MjhcdTYzMDdcdTUzNTcnKVxuICAgICAgLmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG4gICAgICAgIC5zZXRCdXR0b25UZXh0KCdcdTYyNTNcdTVGMDBcdTY1NTlcdTdBMEInKVxuICAgICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgY29uc3QgdHV0b3JpYWxGaWxlTmFtZSA9ICdSU1ZQLVx1OTAxRlx1OEJGQlx1NTg5RVx1NUYzQS1cdTRGN0ZcdTc1MjhcdTYzMDdcdTUzNTcubWQnO1xuICAgICAgICAgIGNvbnN0IHR1dG9yaWFsUGF0aCA9IG5vcm1hbGl6ZVBhdGgodHV0b3JpYWxGaWxlTmFtZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gXHU2OEMwXHU2N0U1XHU2NTU5XHU3QTBCXHU2NTg3XHU0RUY2XHU2NjJGXHU1NDI2XHU1QjU4XHU1NzI4XG4gICAgICAgICAgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHModHV0b3JpYWxQYXRoKS50aGVuKGV4aXN0cyA9PiB7XG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgICAvLyBcdTU5ODJcdTY3OUNcdTRFMERcdTVCNThcdTU3MjhcdUZGMENcdTUyMUJcdTVFRkFcdTY1NTlcdTdBMEJcdTY1ODdcdTRFRjZcbiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUdXRvcmlhbEZpbGUodHV0b3JpYWxQYXRoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5UdXRvcmlhbEZpbGUodHV0b3JpYWxQYXRoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLm9wZW5UdXRvcmlhbEZpbGUodHV0b3JpYWxQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICB9XG4gIFxuICBhc3luYyBjcmVhdGVUdXRvcmlhbEZpbGUocGF0aDogc3RyaW5nKSB7XG4gICAgY29uc3QgY29udGVudCA9IGAjIFJTVlAgXHU5MDFGXHU4QkZCXHU1ODlFXHU1RjNBIFx1NEY3Rlx1NzUyOFx1NjMwN1x1NTM1N1xuXG4jIyBcdTRFQzBcdTRFNDhcdTY2MkZSU1ZQXHU5NjA1XHU4QkZCXHU2Q0Q1XHVGRjFGXG5cblJTVlAgKFJhcGlkIFNlcmlhbCBWaXN1YWwgUHJlc2VudGF0aW9uKSBcdTY2MkZcdTRFMDBcdTc5Q0RcdTVGRUJcdTkwMUZcdThGREVcdTdFRURcdTg5QzZcdTg5QzlcdTU0NDhcdTczQjBcdTYyODBcdTY3MkZcdUZGMENcdTkwMUFcdThGQzdcdTkwMTBcdTRFMkFcdTY2M0VcdTc5M0FcdTUzNTVcdThCQ0RcdTY3NjVcdTZEODhcdTk2NjRcdTc3M0NcdTc0MDNcdTc5RkJcdTUyQThcdUZGMENcdTUzRUZcdTRFRTVcdTY2M0VcdTg0NTdcdTYzRDBcdTlBRDhcdTk2MDVcdThCRkJcdTkwMUZcdTVFQTZcdTMwMDJcblxuIyMgXHU1N0ZBXHU3ODQwXHU2NENEXHU0RjVDXG5cbjEuICoqXHU1NDJGXHU1MkE4XHU5MDFGXHU4QkZCKio6IFxuICAgLSBcdTcwQjlcdTUxRkJyaWJib25cdTY4MEZcdTc2ODRcdTkwMUZcdThCRkJcdTU2RkVcdTY4MDdcbiAgIC0gXHU2MjE2XHU0RjdGXHU3NTI4XHU1NDdEXHU0RUU0XHU5NzYyXHU2NzdGXHU2MjY3XHU4ODRDXCJcdTU0MkZcdTUyQThcdTkwMUZcdThCRkJcdTZBMjFcdTVGMEZcIlxuXG4yLiAqKlx1NjNBN1x1NTIzNlx1OTYwNVx1OEJGQioqOlxuICAgLSBcdTY2ODJcdTUwNUMvXHU3RUU3XHU3RUVEOiBcdTdBN0FcdTY4M0NcdTk1MkVcdTYyMTZcdTcwQjlcdTUxRkJcdTY0QURcdTY1M0UvXHU2NjgyXHU1MDVDXHU2MzA5XHU5NEFFXG4gICAtIFx1NTJBMFx1OTAxRi9cdTUxQ0ZcdTkwMUY6IFx1NzBCOVx1NTFGQlx1RDgzRFx1REMwNy9cdUQ4M0RcdURDMjJcdTYzMDlcdTk0QUVcdTYyMTZcdTRGN0ZcdTc1MjhcdTVERTZcdTUzRjNcdTZFRDFcdTUyQThcdTYyNEJcdTUyQkZcbiAgIC0gXHU4REYzXHU4RjZDXHU2QkI1XHU4NDNEOiBcdTcwQjlcdTUxRkJcdTIzRUUvXHUyM0VEXHU2MzA5XHU5NEFFXHU2MjE2XHU0RjdGXHU3NTI4XHU0RTBBXHU0RTBCXHU2RUQxXHU1MkE4XHU2MjRCXHU1MkJGXG5cbiMjIFx1NjNEMFx1OUFEOFx1NjU0OFx1NzM4N1x1NzY4NFx1NUMwRlx1NjI4MFx1NURFN1xuXG4tIFx1NEVDRVx1NEY0RVx1OTAxRlx1NUYwMFx1NTlDQigzMDB3cG0pXHVGRjBDXHU5MDEwXHU2RTEwXHU2M0QwXHU5QUQ4XHU1MjMwXHU4MjEyXHU5MDAyXHU1MDNDXG4tIFx1NEY3Rlx1NzUyOFx1NTQ3Q1x1NTQzOFx1NUYxNVx1NUJGQ1x1NTI5Rlx1ODBGRFx1NEZERFx1NjMwMVx1NEUxM1x1NkNFOFxuLSBcdTVCRjlcdTkxQ0RcdTg5ODFcdTY1ODdcdTY4NjNcdTk2MDVcdThCRkJcdTU0MEVcdTc1MUZcdTYyMTBcdTYwMURcdTdFRjRcdTVCRkNcdTU2RkVcbi0gXHU5MTREXHU1NDA4XHU5NUY0XHU5Njk0XHU1OTBEXHU0RTYwXHU3Q0ZCXHU3RURGXHU0RjdGXHU3NTI4XG5cbiMjIFx1OUFEOFx1N0VBN1x1NTI5Rlx1ODBGRFxuXG4tICoqXHU2NjdBXHU4MEZEXHU2NjgyXHU1MDVDKio6IFx1NTcyOFx1NjgwN1x1NzBCOVx1NTkwNFx1ODFFQVx1NTJBOFx1NUVGNlx1OTU3Rlx1NTA1Q1x1NzU1OVxuLSAqKlx1OEZEQlx1NUVBNlx1NEZERFx1NUI1OCoqOiBcdThCQjBcdTRGNEZcdTZCQ0ZcdTRFMkFcdTY1ODdcdTRFRjZcdTc2ODRcdTk2MDVcdThCRkJcdTRGNERcdTdGNkVcbi0gKipcdTRFMkRcdTY1ODdcdTUyMDZcdThCQ0QqKjogXHU5NDg4XHU1QkY5XHU0RTJEXHU2NTg3XHU1MTg1XHU1QkI5XHU3Njg0XHU2NjdBXHU4MEZEXHU1MjA2XHU4QkNEXG4tICoqXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFKio6IFx1OTYwNVx1OEJGQlx1NTQwRVx1NzUxRlx1NjIxMFx1NjU4N1x1Njg2M1x1N0VEM1x1Njc4NFx1NTZGRVxuXG5cdTc5NURcdTYwQThcdTk2MDVcdThCRkJcdTYxMDlcdTVGRUJcdUZGMDFgO1xuXG4gICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKHBhdGgsIGNvbnRlbnQpO1xuICB9XG4gIFxuICBvcGVuVHV0b3JpYWxGaWxlKHBhdGg6IHN0cmluZykge1xuICAgIC8vIFx1NUMxRFx1OEJENVx1NjI1M1x1NUYwMFx1NjU1OVx1N0EwQlx1NjU4N1x1NEVGNlxuICAgIGxldCBmaWxlT3BlbmVkID0gZmFsc2U7XG4gICAgXG4gICAgdGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMobGVhZiA9PiB7XG4gICAgICBpZiAoZmlsZU9wZW5lZCkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpO1xuICAgICAgaWYgKGZpbGUgJiYgZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICAgIGxlYWYub3BlbkZpbGUoZmlsZSk7XG4gICAgICAgIGZpbGVPcGVuZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlmICghZmlsZU9wZW5lZCkge1xuICAgICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcbiAgICAgIGlmIChmaWxlICYmIGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KHBhdGgsICcnLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59IiwgImltcG9ydCB7IFRGaWxlLCBub3JtYWxpemVQYXRoIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgUlNWUEVuZ2luZSB9IGZyb20gJy4uL21vZGVscy9SU1ZQRW5naW5lJztcbmltcG9ydCB7IERhdGFQZXJzaXN0ZXIgfSBmcm9tICcuLi91dGlscy9EYXRhUGVyc2lzdGVyJztcbmltcG9ydCB7IFJTVlBDb250cm9sIH0gZnJvbSAnLi9SU1ZQQ29udHJvbCc7XG5pbXBvcnQgUlNWUFJlYWRlclBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcblxuaW50ZXJmYWNlIFJTVlBWaWV3T3B0aW9ucyB7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgZmlsZU5hbWU6IHN0cmluZztcbiAgaW5pdGlhbFBvc2l0aW9uOiB7IGxpbmU6IG51bWJlciwgY2g6IG51bWJlciB9O1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwbHVnaW46IFJTVlBSZWFkZXJQbHVnaW47XG4gIGVuZ2luZTogUlNWUEVuZ2luZTtcbiAgZGF0YVBlcnNpc3RlcjogRGF0YVBlcnNpc3RlcjtcbiAgZmlsZTogVEZpbGUgfCBudWxsO1xufVxuXG5leHBvcnQgY2xhc3MgUlNWUFZpZXcge1xuICBwcml2YXRlIGNvbnRlbnQ6IHN0cmluZztcbiAgcHJpdmF0ZSBmaWxlTmFtZTogc3RyaW5nO1xuICBwcml2YXRlIGluaXRpYWxQb3NpdGlvbjogeyBsaW5lOiBudW1iZXIsIGNoOiBudW1iZXIgfTtcbiAgcHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHZpZXdFbDogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgd29yZEVsOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBlbmdpbmU6IFJTVlBFbmdpbmU7XG4gIHByaXZhdGUgcGx1Z2luOiBSU1ZQUmVhZGVyUGx1Z2luO1xuICBwcml2YXRlIGRhdGFQZXJzaXN0ZXI6IERhdGFQZXJzaXN0ZXI7XG4gIHByaXZhdGUgZmlsZTogVEZpbGUgfCBudWxsO1xuICBwcml2YXRlIGN1cnJlbnRQb3NpdGlvbjogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBpc1BhdXNlZDogYm9vbGVhbiA9IHRydWU7XG4gIHByaXZhdGUgY3VycmVudFNwZWVkOiBudW1iZXI7XG4gIHByaXZhdGUgY29udHJvbDogUlNWUENvbnRyb2w7XG4gIFxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBSU1ZQVmlld09wdGlvbnMpIHtcbiAgICB0aGlzLmNvbnRlbnQgPSBvcHRpb25zLmNvbnRlbnQ7XG4gICAgdGhpcy5maWxlTmFtZSA9IG9wdGlvbnMuZmlsZU5hbWU7XG4gICAgdGhpcy5pbml0aWFsUG9zaXRpb24gPSBvcHRpb25zLmluaXRpYWxQb3NpdGlvbjtcbiAgICB0aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgIHRoaXMucGx1Z2luID0gb3B0aW9ucy5wbHVnaW47XG4gICAgdGhpcy5lbmdpbmUgPSBvcHRpb25zLmVuZ2luZTtcbiAgICB0aGlzLmRhdGFQZXJzaXN0ZXIgPSBvcHRpb25zLmRhdGFQZXJzaXN0ZXI7XG4gICAgdGhpcy5maWxlID0gb3B0aW9ucy5maWxlO1xuICAgIHRoaXMuY3VycmVudFNwZWVkID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFNwZWVkO1xuICAgIFxuICAgIC8vIFx1NTIxQlx1NUVGQVx1ODlDNlx1NTZGRVx1NTE0M1x1N0QyMFxuICAgIHRoaXMudmlld0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy52aWV3RWwuY2xhc3NMaXN0LmFkZCgncnN2cC1yZWFkZXItY29udGFpbmVyJyk7XG4gICAgXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU1MTg1XHU1QkI5XHU2NjNFXHU3OTNBXHU1MzNBXHU1N0RGXG4gICAgY29uc3QgZGlzcGxheUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpc3BsYXlDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncnN2cC1kaXNwbGF5LWNvbnRhaW5lcicpO1xuICAgIFxuICAgIC8vIFx1NTIxQlx1NUVGQVx1NEUyRFx1NTkyRVx1OEJDRFx1NjYzRVx1NzkzQVx1NTE0M1x1N0QyMFxuICAgIHRoaXMud29yZEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy53b3JkRWwuY2xhc3NMaXN0LmFkZCgncnN2cC13b3JkJyk7XG4gICAgdGhpcy53b3JkRWwuc3R5bGUuZm9udFNpemUgPSBgJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb250U2l6ZX1weGA7XG4gICAgXG4gICAgZGlzcGxheUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLndvcmRFbCk7XG4gICAgdGhpcy52aWV3RWwuYXBwZW5kQ2hpbGQoZGlzcGxheUNvbnRhaW5lcik7XG4gICAgXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU2M0E3XHU1MjM2XHU5NzYyXHU2NzdGXG4gICAgdGhpcy5jb250cm9sID0gbmV3IFJTVlBDb250cm9sKHtcbiAgICAgIGNvbnRhaW5lcjogdGhpcy52aWV3RWwsXG4gICAgICBwbHVnaW46IHRoaXMucGx1Z2luLFxuICAgICAgb25QbGF5OiAoKSA9PiB0aGlzLnBsYXkoKSxcbiAgICAgIG9uUGF1c2U6ICgpID0+IHRoaXMucGF1c2UoKSxcbiAgICAgIG9uQ2xvc2U6ICgpID0+IHRoaXMuZGVzdHJveSgpLFxuICAgICAgb25TcGVlZENoYW5nZTogKHNwZWVkKSA9PiB0aGlzLnNldFNwZWVkKHNwZWVkKSxcbiAgICAgIG9uUHJvZ3Jlc3NDaGFuZ2U6IChwcm9ncmVzcykgPT4gdGhpcy5zZXRQcm9ncmVzcyhwcm9ncmVzcyksXG4gICAgICBvbkp1bXBQYXJhZ3JhcGg6IChmb3J3YXJkKSA9PiB0aGlzLmp1bXBQYXJhZ3JhcGgoZm9yd2FyZClcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTZDRThcdTUxOENcdTYyNEJcdTUyQkZcdTY1MkZcdTYzMDFcbiAgICB0aGlzLnJlZ2lzdGVyR2VzdHVyZXMoKTtcbiAgfVxuICBcbiAgcmVuZGVyKCkge1xuICAgIC8vIFx1NkRGQlx1NTJBMFx1NTIzMERPTVxuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudmlld0VsKTtcbiAgICBcbiAgICAvLyBcdTU5MDRcdTc0MDZcdTY1ODdcdTY3MkNcdTUxODVcdTVCQjlcbiAgICB0aGlzLmVuZ2luZS5wcm9jZXNzVGV4dCh0aGlzLmNvbnRlbnQsIHRoaXMuaW5pdGlhbFBvc2l0aW9uKTtcbiAgICBcbiAgICAvLyBcdTZFMzJcdTY3RDNcdTYzQTdcdTUyMzZcdTk3NjJcdTY3N0ZcbiAgICB0aGlzLmNvbnRyb2wucmVuZGVyKHRoaXMuZmlsZU5hbWUsIHRoaXMuY3VycmVudFNwZWVkKTtcbiAgICBcbiAgICAvLyBcdTY2M0VcdTc5M0FcdTdCMkNcdTRFMDBcdTRFMkFcdThCQ0RcbiAgICB0aGlzLnNob3dDdXJyZW50V29yZCgpO1xuICB9XG4gIFxuICBwbGF5KCkge1xuICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNvbnRyb2wudXBkYXRlUGxheVN0YXRlKGZhbHNlKTtcbiAgICB0aGlzLnJlYWROZXh0V29yZCgpO1xuICB9XG4gIFxuICBwYXVzZSgpIHtcbiAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcbiAgICB0aGlzLmNvbnRyb2wudXBkYXRlUGxheVN0YXRlKHRydWUpO1xuICB9XG4gIFxuICB0b2dnbGVQYXVzZSgpIHtcbiAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xuICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGF1c2UoKTtcbiAgICB9XG4gIH1cbiAgXG4gIGRlc3Ryb3koKSB7XG4gICAgLy8gXHU0RkREXHU1QjU4XHU5NjA1XHU4QkZCXHU4RkRCXHU1RUE2XG4gICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnBlcnNpc3RSZWFkaW5nUHJvZ3Jlc3MgJiYgdGhpcy5maWxlKSB7XG4gICAgICB0aGlzLmRhdGFQZXJzaXN0ZXIuc2F2ZVJlYWRpbmdQcm9ncmVzcyh0aGlzLmZpbGUsIHtcbiAgICAgICAgcG9zaXRpb246IHRoaXMuY3VycmVudFBvc2l0aW9uLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTUwNUNcdTZCNjJcdTk2MDVcdThCRkJcbiAgICB0aGlzLnBhdXNlKCk7XG4gICAgXG4gICAgLy8gXHU3OUZCXHU5NjY0RE9NXHU1MTQzXHU3RDIwXG4gICAgaWYgKHRoaXMudmlld0VsICYmIHRoaXMudmlld0VsLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgIHRoaXMudmlld0VsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy52aWV3RWwpO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTZFMDVcdTk2NjRcdTVGMTVcdTc1MjhcbiAgICB0aGlzLnBsdWdpbi5yc3ZwVmlldyA9IG51bGw7XG4gIH1cbiAgXG4gIGluY3JlYXNlU3BlZWQoYW1vdW50OiBudW1iZXIpIHtcbiAgICB0aGlzLnNldFNwZWVkKHRoaXMuY3VycmVudFNwZWVkICsgYW1vdW50KTtcbiAgfVxuICBcbiAgZGVjcmVhc2VTcGVlZChhbW91bnQ6IG51bWJlcikge1xuICAgIHRoaXMuc2V0U3BlZWQoTWF0aC5tYXgoMjAwLCB0aGlzLmN1cnJlbnRTcGVlZCAtIGFtb3VudCkpO1xuICB9XG4gIFxuICBzZXRTcGVlZChzcGVlZDogbnVtYmVyKSB7XG4gICAgdGhpcy5jdXJyZW50U3BlZWQgPSBNYXRoLm1pbigxMjAwLCBNYXRoLm1heCgyMDAsIHNwZWVkKSk7XG4gICAgdGhpcy5jb250cm9sLnVwZGF0ZVNwZWVkKHRoaXMuY3VycmVudFNwZWVkKTtcbiAgfVxuICBcbiAgc2V0UmVhZGluZ1Bvc2l0aW9uKHBvc2l0aW9uOiBudW1iZXIpIHtcbiAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHRoaXMuZW5naW5lLnNldEN1cnJlbnRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgdGhpcy5zaG93Q3VycmVudFdvcmQoKTtcbiAgICB0aGlzLmNvbnRyb2wudXBkYXRlUHJvZ3Jlc3ModGhpcy5lbmdpbmUuZ2V0UmVhZGluZ1Byb2dyZXNzKCkpO1xuICB9XG4gIFxuICBzZXRQcm9ncmVzcyhwcm9ncmVzczogbnVtYmVyKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBNYXRoLmZsb29yKHByb2dyZXNzICogdGhpcy5lbmdpbmUuZ2V0VG90YWxXb3JkcygpKTtcbiAgICB0aGlzLnNldFJlYWRpbmdQb3NpdGlvbihwb3NpdGlvbik7XG4gIH1cbiAgXG4gIGp1bXBQYXJhZ3JhcGgoZm9yd2FyZDogYm9vbGVhbikge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICB0aGlzLmVuZ2luZS5qdW1wVG9OZXh0UGFyYWdyYXBoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5naW5lLmp1bXBUb1ByZXZpb3VzUGFyYWdyYXBoKCk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFBvc2l0aW9uID0gdGhpcy5lbmdpbmUuZ2V0Q3VycmVudFBvc2l0aW9uKCk7XG4gICAgdGhpcy5zaG93Q3VycmVudFdvcmQoKTtcbiAgICB0aGlzLmNvbnRyb2wudXBkYXRlUHJvZ3Jlc3ModGhpcy5lbmdpbmUuZ2V0UmVhZGluZ1Byb2dyZXNzKCkpO1xuICB9XG4gIFxuICBwcml2YXRlIHJlYWROZXh0V29yZCgpIHtcbiAgICBpZiAodGhpcy5pc1BhdXNlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFx1ODNCN1x1NTNENlx1NEUwQlx1NEUwMFx1NEUyQVx1OEJDRFxuICAgIGNvbnN0IG5leHRXb3JkID0gdGhpcy5lbmdpbmUuZ2V0TmV4dFdvcmQoKTtcbiAgICBcbiAgICBpZiAobmV4dFdvcmQpIHtcbiAgICAgIC8vIFx1NjZGNFx1NjVCMFx1NUY1M1x1NTI0RFx1NEY0RFx1N0Y2RVxuICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb24gPSB0aGlzLmVuZ2luZS5nZXRDdXJyZW50UG9zaXRpb24oKTtcbiAgICAgIFxuICAgICAgLy8gXHU2NjNFXHU3OTNBXHU1RjUzXHU1MjREXHU4QkNEXG4gICAgICB0aGlzLnNob3dDdXJyZW50V29yZCgpO1xuICAgICAgXG4gICAgICAvLyBcdTY2RjRcdTY1QjBcdThGREJcdTVFQTZcdTY3NjFcbiAgICAgIHRoaXMuY29udHJvbC51cGRhdGVQcm9ncmVzcyh0aGlzLmVuZ2luZS5nZXRSZWFkaW5nUHJvZ3Jlc3MoKSk7XG4gICAgICBcbiAgICAgIC8vIFx1OEJBMVx1N0I5N1x1NjYzRVx1NzkzQVx1NjVGNlx1OTVGNFx1RkYwOFx1ODAwM1x1ODY1MVx1NjY3QVx1ODBGRFx1NjY4Mlx1NTA1Q1x1RkYwOVxuICAgICAgY29uc3QgZGlzcGxheVRpbWUgPSB0aGlzLmVuZ2luZS5nZXREaXNwbGF5VGltZUZvckN1cnJlbnRXb3JkKHRoaXMuY3VycmVudFNwZWVkKTtcbiAgICAgIFxuICAgICAgLy8gXHU1NDdDXHU1NDM4XHU1RjE1XHU1QkZDXG4gICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQnJlYXRoaW5nR3VpZGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVCcmVhdGhpbmdHdWlkZSgpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdThCQTFcdTUyMTJcdTRFMEJcdTRFMDBcdTRFMkFcdThCQ0RcdTc2ODRcdTY2M0VcdTc5M0FcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZWFkTmV4dFdvcmQoKSwgZGlzcGxheVRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBcdTk2MDVcdThCRkJcdTVCOENcdTYyMTBcbiAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgIHRoaXMuY29udHJvbC5zaG93Q29tcGxldGlvbk1lc3NhZ2UoKTtcbiAgICAgIFxuICAgICAgLy8gXHU3NTFGXHU2MjEwXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHVGRjA4XHU1OTgyXHU2NzlDXHU1NDJGXHU3NTI4XHVGRjA5XG4gICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlTWluZG1hcEdlbmVyYXRpb24pIHtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZU1pbmRtYXAoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIHByaXZhdGUgc2hvd0N1cnJlbnRXb3JkKCkge1xuICAgIGNvbnN0IHdvcmREYXRhID0gdGhpcy5lbmdpbmUuZ2V0Q3VycmVudFdvcmREYXRhKCk7XG4gICAgXG4gICAgaWYgKCF3b3JkRGF0YSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFx1NkUwNVx1N0E3QVx1NUY1M1x1NTI0RFx1NjYzRVx1NzkzQVxuICAgIHRoaXMud29yZEVsLmlubmVySFRNTCA9ICcnO1xuICAgIFxuICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWdobGlnaHRGb2N1c1dvcmQpIHtcbiAgICAgIC8vIFx1NTIxQlx1NUVGQVx1NEUwOVx1OTBFOFx1NTIwNlx1RkYxQVx1NTI0RFx1NzEyNlx1NzBCOVx1MzAwMVx1NzEyNlx1NzBCOVx1MzAwMVx1NTQwRVx1NzEyNlx1NzBCOVxuICAgICAgY29uc3QgYmVmb3JlRm9jdXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBiZWZvcmVGb2N1cy5jbGFzc0xpc3QuYWRkKCdyc3ZwLWJlZm9yZS1mb2N1cycpO1xuICAgICAgYmVmb3JlRm9jdXMuc3R5bGUuY29sb3IgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5iZWZvcmVGb2N1c0NvbG9yO1xuICAgICAgYmVmb3JlRm9jdXMudGV4dENvbnRlbnQgPSB3b3JkRGF0YS53b3JkLnN1YnN0cmluZygwLCB3b3JkRGF0YS5mb2N1c1BvaW50KTtcbiAgICAgIFxuICAgICAgY29uc3QgZm9jdXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBmb2N1cy5jbGFzc0xpc3QuYWRkKCdyc3ZwLWZvY3VzJyk7XG4gICAgICBmb2N1cy5zdHlsZS5jb2xvciA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmZvY3VzV29yZENvbG9yO1xuICAgICAgZm9jdXMudGV4dENvbnRlbnQgPSB3b3JkRGF0YS53b3JkLmNoYXJBdCh3b3JkRGF0YS5mb2N1c1BvaW50KTtcbiAgICAgIFxuICAgICAgY29uc3QgYWZ0ZXJGb2N1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGFmdGVyRm9jdXMuY2xhc3NMaXN0LmFkZCgncnN2cC1hZnRlci1mb2N1cycpO1xuICAgICAgYWZ0ZXJGb2N1cy5zdHlsZS5jb2xvciA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmFmdGVyRm9jdXNDb2xvcjtcbiAgICAgIGFmdGVyRm9jdXMudGV4dENvbnRlbnQgPSB3b3JkRGF0YS53b3JkLnN1YnN0cmluZyh3b3JkRGF0YS5mb2N1c1BvaW50ICsgMSk7XG4gICAgICBcbiAgICAgIHRoaXMud29yZEVsLmFwcGVuZENoaWxkKGJlZm9yZUZvY3VzKTtcbiAgICAgIHRoaXMud29yZEVsLmFwcGVuZENoaWxkKGZvY3VzKTtcbiAgICAgIHRoaXMud29yZEVsLmFwcGVuZENoaWxkKGFmdGVyRm9jdXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBcdTdCODBcdTUzNTVcdTY2M0VcdTc5M0FcdTVCOENcdTY1NzRcdTUzNTVcdThCQ0RcbiAgICAgIHRoaXMud29yZEVsLnRleHRDb250ZW50ID0gd29yZERhdGEud29yZDtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU2NjJGXHU1M0NDXHU5NEZFXHU2M0E1XHVGRjBDXHU2NjNFXHU3OTNBXHU3Mjc5XHU2QjhBXHU2ODM3XHU1RjBGXG4gICAgaWYgKHdvcmREYXRhLmlzV2lraUxpbmspIHtcbiAgICAgIHRoaXMud29yZEVsLmNsYXNzTGlzdC5hZGQoJ3JzdnAtd2lraWxpbmsnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53b3JkRWwuY2xhc3NMaXN0LnJlbW92ZSgncnN2cC13aWtpbGluaycpO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTU5ODJcdTY3OUNcdTY2MkZcdTUxNzNcdTk1MkVcdThCQ0RcdUZGMENcdTY2M0VcdTc5M0FcdTcyNzlcdTZCOEFcdTY4MzdcdTVGMEZcbiAgICBpZiAod29yZERhdGEuaXNLZXl3b3JkKSB7XG4gICAgICB0aGlzLndvcmRFbC5jbGFzc0xpc3QuYWRkKCdyc3ZwLWtleXdvcmQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53b3JkRWwuY2xhc3NMaXN0LnJlbW92ZSgncnN2cC1rZXl3b3JkJyk7XG4gICAgfVxuICB9XG4gIFxuICBwcml2YXRlIHVwZGF0ZUJyZWF0aGluZ0d1aWRlKCkge1xuICAgIC8vIFx1NjgzOVx1NjM2RVx1OTYwNVx1OEJGQlx1OTAxRlx1NUVBNlx1OEMwM1x1NjU3NFx1NTQ3Q1x1NTQzOFx1ODI4Mlx1NTk0Rlx1NUYxNVx1NUJGQ1xuICAgIGNvbnN0IHdvcmRQZXJTZWNvbmQgPSB0aGlzLmN1cnJlbnRTcGVlZCAvIDYwO1xuICAgIC8vIFx1NTQ3Q1x1NTQzOFx1NUYxNVx1NUJGQ1x1OTAzQlx1OEY5MS4uLlxuICB9XG4gIFxuICBwcml2YXRlIGdlbmVyYXRlTWluZG1hcCgpIHtcbiAgICAvLyBcdTYzRDBcdTUzRDZcdTUxNzNcdTk1MkVcdTY5ODJcdTVGRjVcdTU0OENcdTdFRDNcdTY3ODRcdUZGMENcdTc1MUZcdTYyMTBcdTYwMURcdTdFRjRcdTVCRkNcdTU2RkVcbiAgICBjb25zdCBtaW5kbWFwQ29udGVudCA9IHRoaXMuZW5naW5lLmdlbmVyYXRlTWluZG1hcCgpO1xuICAgIFxuICAgIGlmICh0aGlzLmZpbGUpIHtcbiAgICAgIGNvbnN0IG1pbmRtYXBGaWxlTmFtZSA9IGAke3RoaXMuZmlsZS5iYXNlbmFtZX0tXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFLm1kYDtcbiAgICAgIGNvbnN0IG1pbmRtYXBQYXRoID0gbm9ybWFsaXplUGF0aChgJHt0aGlzLmZpbGUucGFyZW50Py5wYXRoIHx8ICcnfS8ke21pbmRtYXBGaWxlTmFtZX1gKTtcbiAgICAgIFxuICAgICAgLy8gXHU1MjFCXHU1RUZBXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHU2NTg3XHU0RUY2XG4gICAgICB0aGlzLmFwcC52YXVsdC5jcmVhdGUobWluZG1hcFBhdGgsIG1pbmRtYXBDb250ZW50KS50aGVuKCgpID0+IHtcbiAgICAgICAgbmV3IE5vdGljZShgXHU1REYyXHU3NTFGXHU2MjEwXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHVGRjFBJHttaW5kbWFwRmlsZU5hbWV9YCk7XG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdcdTYwMURcdTdFRjRcdTVCRkNcdTU2RkVcdTc1MUZcdTYyMTBcdTU5MzFcdThEMjUnLCBlcnIpO1xuICAgICAgICBuZXcgTm90aWNlKCdcdTYwMURcdTdFRjRcdTVCRkNcdTU2RkVcdTc1MUZcdTYyMTBcdTU5MzFcdThEMjUnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBcbiAgcHJpdmF0ZSByZWdpc3Rlckdlc3R1cmVzKCkge1xuICAgIC8vIFx1NkRGQlx1NTJBMFx1ODlFNlx1NjQ3OFx1NjI0Qlx1NTJCRlx1NjUyRlx1NjMwMVxuICAgIGxldCBzdGFydFggPSAwO1xuICAgIGxldCBzdGFydFkgPSAwO1xuICAgIFxuICAgIHRoaXMudmlld0VsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgc3RhcnRYID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICBzdGFydFkgPSBlLnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9KTtcbiAgICBcbiAgICB0aGlzLnZpZXdFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChlKSA9PiB7XG4gICAgICBjb25zdCBlbmRYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgY29uc3QgZW5kWSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIFxuICAgICAgY29uc3QgZGlmZlggPSBlbmRYIC0gc3RhcnRYO1xuICAgICAgY29uc3QgZGlmZlkgPSBlbmRZIC0gc3RhcnRZO1xuICAgICAgXG4gICAgICAvLyBcdTc4NkVcdTVCOUFcdTY2MkZcdTZDMzRcdTVFNzNcdThGRDhcdTY2MkZcdTU3ODJcdTc2RjRcdTZFRDFcdTUyQThcbiAgICAgIGlmIChNYXRoLmFicyhkaWZmWCkgPiBNYXRoLmFicyhkaWZmWSkpIHtcbiAgICAgICAgLy8gXHU2QzM0XHU1RTczXHU2RUQxXHU1MkE4XHVGRjFBXHU4QzAzXHU2NTc0XHU5MDFGXHU1RUE2XG4gICAgICAgIGlmIChkaWZmWCA+IDUwKSB7XG4gICAgICAgICAgLy8gXHU1REU2XHU1MjEyXHU1MUNGXHU5MDFGXG4gICAgICAgICAgdGhpcy5kZWNyZWFzZVNwZWVkKDUwKTtcbiAgICAgICAgfSBlbHNlIGlmIChkaWZmWCA8IC01MCkge1xuICAgICAgICAgIC8vIFx1NTNGM1x1NTIxMlx1NTJBMFx1OTAxRlxuICAgICAgICAgIHRoaXMuaW5jcmVhc2VTcGVlZCg1MCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NTc4Mlx1NzZGNFx1NkVEMVx1NTJBOFx1RkYxQVx1OERGM1x1OEY2Q1x1NkJCNVx1ODQzRFxuICAgICAgICBpZiAoZGlmZlkgPCAtNTApIHtcbiAgICAgICAgICAvLyBcdTRFMEFcdTUyMTJcdThERjNcdTUyMzBcdTRFMEJcdTRFMDBcdTZCQjVcbiAgICAgICAgICB0aGlzLmp1bXBQYXJhZ3JhcGgodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlmZlkgPiA1MCkge1xuICAgICAgICAgIC8vIFx1NEUwQlx1NTIxMlx1NTZERVx1NTIzMFx1NEUwQVx1NEUwMFx1NkJCNVxuICAgICAgICAgIHRoaXMuanVtcFBhcmFncmFwaChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsICJpbXBvcnQgUlNWUFJlYWRlclBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcblxuaW50ZXJmYWNlIFJTVlBDb250cm9sT3B0aW9ucyB7XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHBsdWdpbjogUlNWUFJlYWRlclBsdWdpbjtcbiAgb25QbGF5OiAoKSA9PiB2b2lkO1xuICBvblBhdXNlOiAoKSA9PiB2b2lkO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICBvblNwZWVkQ2hhbmdlOiAoc3BlZWQ6IG51bWJlcikgPT4gdm9pZDtcbiAgb25Qcm9ncmVzc0NoYW5nZTogKHByb2dyZXNzOiBudW1iZXIpID0+IHZvaWQ7XG4gIG9uSnVtcFBhcmFncmFwaDogKGZvcndhcmQ6IGJvb2xlYW4pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBSU1ZQQ29udHJvbCB7XG4gIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBwbHVnaW46IFJTVlBSZWFkZXJQbHVnaW47XG4gIHByaXZhdGUgY29udHJvbEVsOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBzcGVlZEVsOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBwcm9ncmVzc0VsOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBwbGF5UGF1c2VCdG46IEhUTUxFbGVtZW50O1xuICBcbiAgcHJpdmF0ZSBjYWxsYmFja3M6IHtcbiAgICBvblBsYXk6ICgpID0+IHZvaWQ7XG4gICAgb25QYXVzZTogKCkgPT4gdm9pZDtcbiAgICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICAgIG9uU3BlZWRDaGFuZ2U6IChzcGVlZDogbnVtYmVyKSA9PiB2b2lkO1xuICAgIG9uUHJvZ3Jlc3NDaGFuZ2U6IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkO1xuICAgIG9uSnVtcFBhcmFncmFwaDogKGZvcndhcmQ6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIH07XG4gIFxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBSU1ZQQ29udHJvbE9wdGlvbnMpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgIHRoaXMucGx1Z2luID0gb3B0aW9ucy5wbHVnaW47XG4gICAgdGhpcy5jYWxsYmFja3MgPSB7XG4gICAgICBvblBsYXk6IG9wdGlvbnMub25QbGF5LFxuICAgICAgb25QYXVzZTogb3B0aW9ucy5vblBhdXNlLFxuICAgICAgb25DbG9zZTogb3B0aW9ucy5vbkNsb3NlLFxuICAgICAgb25TcGVlZENoYW5nZTogb3B0aW9ucy5vblNwZWVkQ2hhbmdlLFxuICAgICAgb25Qcm9ncmVzc0NoYW5nZTogb3B0aW9ucy5vblByb2dyZXNzQ2hhbmdlLFxuICAgICAgb25KdW1wUGFyYWdyYXBoOiBvcHRpb25zLm9uSnVtcFBhcmFncmFwaFxuICAgIH07XG4gICAgXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU2M0E3XHU1MjM2XHU5NzYyXHU2NzdGXHU1MTQzXHU3RDIwXG4gICAgdGhpcy5jb250cm9sRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmNvbnRyb2xFbC5jbGFzc0xpc3QuYWRkKCdyc3ZwLWNvbnRyb2wtcGFuZWwnKTtcbiAgICBcbiAgICAvLyBcdTUyMUJcdTVFRkFcdTkwMUZcdTVFQTZcdTY2M0VcdTc5M0FcdTUxNDNcdTdEMjBcbiAgICB0aGlzLnNwZWVkRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnNwZWVkRWwuY2xhc3NMaXN0LmFkZCgncnN2cC1zcGVlZC1kaXNwbGF5Jyk7XG4gICAgXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU4RkRCXHU1RUE2XHU2NzYxXHU1MTQzXHU3RDIwXG4gICAgdGhpcy5wcm9ncmVzc0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5wcm9ncmVzc0VsLmNsYXNzTGlzdC5hZGQoJ3JzdnAtcHJvZ3Jlc3MtYmFyJyk7XG4gICAgXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU2NEFEXHU2NTNFL1x1NjY4Mlx1NTA1Q1x1NjMwOVx1OTRBRVxuICAgIHRoaXMucGxheVBhdXNlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgdGhpcy5wbGF5UGF1c2VCdG4uY2xhc3NMaXN0LmFkZCgncnN2cC1wbGF5LXBhdXNlLWJ1dHRvbicpO1xuICAgIHRoaXMucGxheVBhdXNlQnRuLmlubmVySFRNTCA9ICdcdTI1QjYnO1xuICB9XG4gIFxuICByZW5kZXIoZmlsZU5hbWU6IHN0cmluZywgaW5pdGlhbFNwZWVkOiBudW1iZXIpIHtcbiAgICAvLyBcdTY4MDdcdTk4OThcbiAgICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGl0bGVFbC5jbGFzc0xpc3QuYWRkKCdyc3ZwLXRpdGxlJyk7XG4gICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IGZpbGVOYW1lO1xuICAgIHRoaXMuY29udHJvbEVsLmFwcGVuZENoaWxkKHRpdGxlRWwpO1xuICAgIFxuICAgIC8vIFx1OEZEQlx1NUVBNlx1Njc2MVx1NUJCOVx1NTY2OFxuICAgIGNvbnN0IHByb2dyZXNzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvZ3Jlc3NDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncnN2cC1wcm9ncmVzcy1jb250YWluZXInKTtcbiAgICBcbiAgICAvLyBcdThGREJcdTVFQTZcdTY3NjFcdTgwQ0NcdTY2NkZcbiAgICBjb25zdCBwcm9ncmVzc0JnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvZ3Jlc3NCZy5jbGFzc0xpc3QuYWRkKCdyc3ZwLXByb2dyZXNzLWJhY2tncm91bmQnKTtcbiAgICBwcm9ncmVzc0JnLmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NFbCk7XG4gICAgcHJvZ3Jlc3NDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCZyk7XG4gICAgXG4gICAgLy8gXHU0RTNBXHU4RkRCXHU1RUE2XHU2NzYxXHU2REZCXHU1MkEwXHU3MEI5XHU1MUZCXHU0RThCXHU0RUY2XG4gICAgcHJvZ3Jlc3NCZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCByZWN0ID0gcHJvZ3Jlc3NCZy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoO1xuICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vblByb2dyZXNzQ2hhbmdlKHByb2dyZXNzKTtcbiAgICB9KTtcbiAgICBcbiAgICB0aGlzLmNvbnRyb2xFbC5hcHBlbmRDaGlsZChwcm9ncmVzc0NvbnRhaW5lcik7XG4gICAgXG4gICAgLy8gXHU2M0E3XHU1MjM2XHU2MzA5XHU5NEFFXHU2ODBGXG4gICAgY29uc3QgY29udHJvbEJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRyb2xCYXIuY2xhc3NMaXN0LmFkZCgncnN2cC1jb250cm9sLWJhcicpO1xuICAgIFxuICAgIC8vIFx1NEUwQVx1NEUwMFx1NkJCNVx1NjMwOVx1OTRBRVxuICAgIGNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBwcmV2QnRuLmNsYXNzTGlzdC5hZGQoJ3JzdnAtYnV0dG9uJyk7XG4gICAgcHJldkJ0bi5pbm5lckhUTUwgPSAnXHUyM0VFJztcbiAgICBwcmV2QnRuLnRpdGxlID0gJ1x1NEUwQVx1NEUwMFx1NkJCNSc7XG4gICAgcHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2FsbGJhY2tzLm9uSnVtcFBhcmFncmFwaChmYWxzZSkpO1xuICAgIGNvbnRyb2xCYXIuYXBwZW5kQ2hpbGQocHJldkJ0bik7XG4gICAgXG4gICAgLy8gXHU1MUNGXHU5MDFGXHU2MzA5XHU5NEFFXG4gICAgY29uc3Qgc2xvd0Rvd25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBzbG93RG93bkJ0bi5jbGFzc0xpc3QuYWRkKCdyc3ZwLWJ1dHRvbicpO1xuICAgIHNsb3dEb3duQnRuLmlubmVySFRNTCA9ICdcdUQ4M0RcdURDMjInO1xuICAgIHNsb3dEb3duQnRuLnRpdGxlID0gJ1x1NTFDRlx1OTAxRic7XG4gICAgc2xvd0Rvd25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50U3BlZWQgPSBwYXJzZUludCh0aGlzLnNwZWVkRWwudGV4dENvbnRlbnQucmVwbGFjZSgnd3BtJywgJycpKTtcbiAgICAgIHRoaXMuY2FsbGJhY2tzLm9uU3BlZWRDaGFuZ2UoTWF0aC5tYXgoMjAwLCBjdXJyZW50U3BlZWQgLSA1MCkpO1xuICAgIH0pO1xuICAgIGNvbnRyb2xCYXIuYXBwZW5kQ2hpbGQoc2xvd0Rvd25CdG4pO1xuICAgIFxuICAgIC8vIFx1NjRBRFx1NjUzRS9cdTY2ODJcdTUwNUNcdTYzMDlcdTk0QUVcbiAgICB0aGlzLnBsYXlQYXVzZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnBsYXlQYXVzZUJ0bi5pbm5lckhUTUwgPT09ICdcdTI1QjYnKSB7XG4gICAgICAgIHRoaXMucGxheVBhdXNlQnRuLmlubmVySFRNTCA9ICdcdTIzRjgnO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblBsYXkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGxheVBhdXNlQnRuLmlubmVySFRNTCA9ICdcdTI1QjYnO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblBhdXNlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29udHJvbEJhci5hcHBlbmRDaGlsZCh0aGlzLnBsYXlQYXVzZUJ0bik7XG4gICAgXG4gICAgLy8gXHU1MkEwXHU5MDFGXHU2MzA5XHU5NEFFXG4gICAgY29uc3Qgc3BlZWRVcEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHNwZWVkVXBCdG4uY2xhc3NMaXN0LmFkZCgncnN2cC1idXR0b24nKTtcbiAgICBzcGVlZFVwQnRuLmlubmVySFRNTCA9ICdcdUQ4M0RcdURDMDcnO1xuICAgIHNwZWVkVXBCdG4udGl0bGUgPSAnXHU1MkEwXHU5MDFGJztcbiAgICBzcGVlZFVwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFNwZWVkID0gcGFyc2VJbnQodGhpcy5zcGVlZEVsLnRleHRDb250ZW50LnJlcGxhY2UoJ3dwbScsICcnKSk7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vblNwZWVkQ2hhbmdlKE1hdGgubWluKDEyMDAsIGN1cnJlbnRTcGVlZCArIDUwKSk7XG4gICAgfSk7XG4gICAgY29udHJvbEJhci5hcHBlbmRDaGlsZChzcGVlZFVwQnRuKTtcbiAgICBcbiAgICAvLyBcdTRFMEJcdTRFMDBcdTZCQjVcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBuZXh0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgbmV4dEJ0bi5jbGFzc0xpc3QuYWRkKCdyc3ZwLWJ1dHRvbicpO1xuICAgIG5leHRCdG4uaW5uZXJIVE1MID0gJ1x1MjNFRCc7XG4gICAgbmV4dEJ0bi50aXRsZSA9ICdcdTRFMEJcdTRFMDBcdTZCQjUnO1xuICAgIG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNhbGxiYWNrcy5vbkp1bXBQYXJhZ3JhcGgodHJ1ZSkpO1xuICAgIGNvbnRyb2xCYXIuYXBwZW5kQ2hpbGQobmV4dEJ0bik7XG4gICAgXG4gICAgLy8gXHU1MTczXHU5NUVEXHU2MzA5XHU5NEFFXG4gICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBjbG9zZUJ0bi5jbGFzc0xpc3QuYWRkKCdyc3ZwLWJ1dHRvbicsICdyc3ZwLWNsb3NlLWJ1dHRvbicpO1xuICAgIGNsb3NlQnRuLmlubmVySFRNTCA9ICdcdTI3MTYnO1xuICAgIGNsb3NlQnRuLnRpdGxlID0gJ1x1NTE3M1x1OTVFRCc7XG4gICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNhbGxiYWNrcy5vbkNsb3NlKCkpO1xuICAgIGNvbnRyb2xCYXIuYXBwZW5kQ2hpbGQoY2xvc2VCdG4pO1xuICAgIFxuICAgIHRoaXMuY29udHJvbEVsLmFwcGVuZENoaWxkKGNvbnRyb2xCYXIpO1xuICAgIFxuICAgIC8vIFx1OTAxRlx1NUVBNlx1NTQ4Q1x1NjMwN1x1NUJGQ1x1NjYzRVx1NzkzQVx1NTMzQVxuICAgIGNvbnN0IGluZm9CYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpbmZvQmFyLmNsYXNzTGlzdC5hZGQoJ3JzdnAtaW5mby1iYXInKTtcbiAgICBcbiAgICAvLyBcdTkwMUZcdTVFQTZcdTY2M0VcdTc5M0FcbiAgICB0aGlzLnNwZWVkRWwudGV4dENvbnRlbnQgPSBgJHtpbml0aWFsU3BlZWR9d3BtYDtcbiAgICBpbmZvQmFyLmFwcGVuZENoaWxkKHRoaXMuc3BlZWRFbCk7XG4gICAgXG4gICAgLy8gXHU1NDdDXHU1NDM4XHU2MzA3XHU1QkZDXHVGRjA4XHU1OTgyXHU2NzlDXHU1NDJGXHU3NTI4XHVGRjA5XG4gICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUJyZWF0aGluZ0d1aWRlKSB7XG4gICAgICBjb25zdCBicmVhdGhFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgYnJlYXRoRWwuY2xhc3NMaXN0LmFkZCgncnN2cC1icmVhdGgtZ3VpZGUnKTtcbiAgICAgIGJyZWF0aEVsLmlubmVySFRNTCA9ICdcdUQ4M0NcdURGMkMgPHNwYW4gY2xhc3M9XCJicmVhdGgtYW5pbWF0aW9uXCI+XHUyNUM5PC9zcGFuPic7XG4gICAgICBpbmZvQmFyLmFwcGVuZENoaWxkKGJyZWF0aEVsKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5jb250cm9sRWwuYXBwZW5kQ2hpbGQoaW5mb0Jhcik7XG4gICAgXG4gICAgLy8gXHU2REZCXHU1MkEwXHU1RkVCXHU2Mzc3XHU5NTJFXHU2M0QwXHU3OTNBXG4gICAgY29uc3QgdGlwRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aXBFbC5jbGFzc0xpc3QuYWRkKCdyc3ZwLXRpcCcpO1xuICAgIHRpcEVsLnRleHRDb250ZW50ID0gJ1x1NjNEMFx1NzkzQTogXHU3QTdBXHU2ODNDXHU5NTJFID0gXHU2NjgyXHU1MDVDL1x1N0VFN1x1N0VFRCc7XG4gICAgdGhpcy5jb250cm9sRWwuYXBwZW5kQ2hpbGQodGlwRWwpO1xuICAgIFxuICAgIC8vIFx1NkRGQlx1NTJBMFx1NTIzMFx1NUJCOVx1NTY2OFxuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY29udHJvbEVsKTtcbiAgfVxuICBcbiAgdXBkYXRlU3BlZWQoc3BlZWQ6IG51bWJlcikge1xuICAgIHRoaXMuc3BlZWRFbC50ZXh0Q29udGVudCA9IGAke3NwZWVkfXdwbWA7XG4gICAgXG4gICAgLy8gXHU2ODM5XHU2MzZFXHU5MDFGXHU1RUE2XHU2NkY0XHU2NUIwXHU2ODM3XHU1RjBGXG4gICAgaWYgKHNwZWVkID4gODAwKSB7XG4gICAgICB0aGlzLnNwZWVkRWwuY2xhc3NMaXN0LmFkZCgncnN2cC1zcGVlZC1oaWdoJyk7XG4gICAgICB0aGlzLnNwZWVkRWwuY2xhc3NMaXN0LnJlbW92ZSgncnN2cC1zcGVlZC1ub3JtYWwnLCAncnN2cC1zcGVlZC1sb3cnKTtcbiAgICB9IGVsc2UgaWYgKHNwZWVkID4gNDAwKSB7XG4gICAgICB0aGlzLnNwZWVkRWwuY2xhc3NMaXN0LmFkZCgncnN2cC1zcGVlZC1ub3JtYWwnKTtcbiAgICAgIHRoaXMuc3BlZWRFbC5jbGFzc0xpc3QucmVtb3ZlKCdyc3ZwLXNwZWVkLWhpZ2gnLCAncnN2cC1zcGVlZC1sb3cnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zcGVlZEVsLmNsYXNzTGlzdC5hZGQoJ3JzdnAtc3BlZWQtbG93Jyk7XG4gICAgICB0aGlzLnNwZWVkRWwuY2xhc3NMaXN0LnJlbW92ZSgncnN2cC1zcGVlZC1oaWdoJywgJ3JzdnAtc3BlZWQtbm9ybWFsJyk7XG4gICAgfVxuICB9XG4gIFxuICB1cGRhdGVQcm9ncmVzcyhwcm9ncmVzczogbnVtYmVyKSB7XG4gICAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgcHJvZ3Jlc3MgKiAxMDApKTtcbiAgICB0aGlzLnByb2dyZXNzRWwuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50YWdlfSVgO1xuICAgIFxuICAgIC8vIFx1NkRGQlx1NTJBMFx1NkNFMlx1NkQ2QVx1NTJBOFx1NzUzQlx1NjU0OFx1Njc5Q1xuICAgIHRoaXMucHJvZ3Jlc3NFbC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9ncmVzcy13YXZlLWFuaW1hdGlvbicpO1xuICAgIHZvaWQgdGhpcy5wcm9ncmVzc0VsLm9mZnNldFdpZHRoOyAvLyBcdTg5RTZcdTUzRDFcdTkxQ0RcdTYzOTJcbiAgICB0aGlzLnByb2dyZXNzRWwuY2xhc3NMaXN0LmFkZCgncHJvZ3Jlc3Mtd2F2ZS1hbmltYXRpb24nKTtcbiAgfVxuICBcbiAgdXBkYXRlUGxheVN0YXRlKGlzUGF1c2VkOiBib29sZWFuKSB7XG4gICAgaWYgKGlzUGF1c2VkKSB7XG4gICAgICB0aGlzLnBsYXlQYXVzZUJ0bi5pbm5lckhUTUwgPSAnXHUyNUI2JztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wbGF5UGF1c2VCdG4uaW5uZXJIVE1MID0gJ1x1MjNGOCc7XG4gICAgfVxuICB9XG4gIFxuICBzaG93Q29tcGxldGlvbk1lc3NhZ2UoKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgncnN2cC1jb21wbGV0aW9uLW1lc3NhZ2UnKTtcbiAgICBtZXNzYWdlLnRleHRDb250ZW50ID0gJ1x1OTYwNVx1OEJGQlx1NUI4Q1x1NjIxMFx1RkYwMSc7XG4gICAgXG4gICAgLy8gXHU2NjNFXHU3OTNBXHU0RjUzXHU5QThDXHU1M0NEXHU5OTg4XG4gICAgY29uc3QgZmVlZGJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmZWVkYmFjay5jbGFzc0xpc3QuYWRkKCdyc3ZwLWZlZWRiYWNrJyk7XG4gICAgZmVlZGJhY2suaW5uZXJIVE1MID0gJ1x1RDgzQ1x1REZBRiBcdTY3MDlcdTRFQzBcdTRFNDhcdTYxMUZcdTYwRjNcdUZGMUYnO1xuICAgIGZlZWRiYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgLy8gXHU1OTgyXHU2NzlDXHU2NzA5XHU1OTBEXHU0RTYwXHU1MjlGXHU4MEZEXHVGRjBDXHU4RkQ5XHU5MUNDXHU1M0VGXHU0RUU1XHU4REYzXHU4RjZDXHU1MjMwXHU3NTFGXHU2MjEwXHU3Njg0XHU3QjE0XHU4QkIwXG4gICAgfSk7XG4gICAgXG4gICAgbWVzc2FnZS5hcHBlbmRDaGlsZChmZWVkYmFjayk7XG4gICAgXG4gICAgLy8gXHU2REZCXHU1MkEwXHU1MjMwXHU2M0E3XHU1MjM2XHU5NzYyXHU2NzdGXG4gICAgdGhpcy5jb250cm9sRWwuYXBwZW5kQ2hpbGQobWVzc2FnZSk7XG4gICAgXG4gICAgLy8gM1x1NzlEMlx1NTQwRVx1ODFFQVx1NTJBOFx1OTY5MFx1ODVDRlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKG1lc3NhZ2UucGFyZW50Tm9kZSA9PT0gdGhpcy5jb250cm9sRWwpIHtcbiAgICAgICAgdGhpcy5jb250cm9sRWwucmVtb3ZlQ2hpbGQobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfSwgMzAwMCk7XG4gIH1cbn0iLCAiaW1wb3J0IHsgVGV4dFByb2Nlc3NvciB9IGZyb20gJy4vVGV4dFByb2Nlc3Nvcic7XG5pbXBvcnQgeyBSZWFkaW5nRGF0YSB9IGZyb20gJy4vUmVhZGluZ0RhdGEnO1xuXG5pbnRlcmZhY2UgV29yZERhdGEge1xuICB3b3JkOiBzdHJpbmc7XG4gIGlzV2lraUxpbms6IGJvb2xlYW47XG4gIGlzS2V5d29yZDogYm9vbGVhbjtcbiAgaXNQdW5jdHVhdGlvbjogYm9vbGVhbjtcbiAgZm9jdXNQb2ludDogbnVtYmVyO1xuICBwYXJhZ3JhcGhCcmVhazogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIFJTVlBFbmdpbmUge1xuICBwcml2YXRlIHNldHRpbmdzOiBhbnk7XG4gIHByaXZhdGUgdGV4dFByb2Nlc3NvcjogVGV4dFByb2Nlc3NvcjtcbiAgcHJpdmF0ZSB3b3JkczogV29yZERhdGFbXSA9IFtdO1xuICBwcml2YXRlIGN1cnJlbnRQb3NpdGlvbjogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBwYXJhZ3JhcGhCcmVha1BvaW50czogbnVtYmVyW10gPSBbXTtcbiAgXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzOiBhbnksIHRleHRQcm9jZXNzb3I6IFRleHRQcm9jZXNzb3IpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy50ZXh0UHJvY2Vzc29yID0gdGV4dFByb2Nlc3NvcjtcbiAgfVxuICBcbiAgdXBkYXRlU2V0dGluZ3Moc2V0dGluZ3M6IGFueSkge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgfVxuICBcbiAgcHJvY2Vzc1RleHQodGV4dDogc3RyaW5nLCBpbml0aWFsUG9zaXRpb24/OiB7IGxpbmU6IG51bWJlciwgY2g6IG51bWJlciB9KSB7XG4gICAgLy8gXHU0RjdGXHU3NTI4VGV4dFByb2Nlc3Nvclx1NTkwNFx1NzQwNlx1NjU4N1x1NjcyQ1xuICAgIGNvbnN0IHByb2Nlc3NlZFRleHQgPSB0aGlzLnRleHRQcm9jZXNzb3IucHJvY2Vzc01hcmtkb3duKHRleHQpO1xuICAgIFxuICAgIC8vIFx1NTIwNlx1NTI3Mlx1NjIxMFx1NTM1NVx1OEJDRFxuICAgIHRoaXMud29yZHMgPSBbXTtcbiAgICB0aGlzLnBhcmFncmFwaEJyZWFrUG9pbnRzID0gW107XG4gICAgXG4gICAgbGV0IHN0YXJ0UG9zaXRpb24gPSAwO1xuICAgIGxldCBjdXJyZW50V29yZEluZGV4ID0gMDtcbiAgICBcbiAgICAvLyBcdTU5ODJcdTY3OUNcdTYzRDBcdTRGOUJcdTRFODZcdTUyMURcdTU5Q0JcdTRGNERcdTdGNkVcdUZGMENcdThCQTFcdTdCOTdcdTVCRjlcdTVFOTRcdTc2ODRcdTUzNTVcdThCQ0RcdTdEMjJcdTVGMTVcbiAgICBpZiAoaW5pdGlhbFBvc2l0aW9uKSB7XG4gICAgICBjb25zdCB0ZXh0QmVmb3JlID0gdGV4dC5zcGxpdCgnXFxuJykuc2xpY2UoMCwgaW5pdGlhbFBvc2l0aW9uLmxpbmUpLmpvaW4oJ1xcbicpICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQuc3BsaXQoJ1xcbicpW2luaXRpYWxQb3NpdGlvbi5saW5lXS5zdWJzdHJpbmcoMCwgaW5pdGlhbFBvc2l0aW9uLmNoKTtcbiAgICAgIHN0YXJ0UG9zaXRpb24gPSB0aGlzLnRleHRQcm9jZXNzb3IuYXBwcm94aW1hdGVXb3JkUG9zaXRpb24odGV4dCwgdGV4dEJlZm9yZSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NTkwNFx1NzQwNlx1NkJDRlx1NEUyQVx1NkJCNVx1ODQzRFxuICAgIHByb2Nlc3NlZFRleHQucGFyYWdyYXBocy5mb3JFYWNoKChwYXJhZ3JhcGgsIHBJbmRleCkgPT4ge1xuICAgICAgLy8gXHU1OTA0XHU3NDA2XHU2QkI1XHU4NDNEXHU0RTJEXHU3Njg0XHU2QkNGXHU0RTJBXHU1MzU1XHU4QkNEXG4gICAgICBwYXJhZ3JhcGgud29yZHMuZm9yRWFjaCgod29yZCwgd0luZGV4KSA9PiB7XG4gICAgICAgIC8vIFx1OEJBMVx1N0I5N1x1NjcwMFx1NEY3M1x1NzEyNlx1NzBCOVx1NEY0RFx1N0Y2RVx1RkYwOE9SUCAtIE9wdGltYWwgUmVjb2duaXRpb24gUG9pbnRcdUZGMDlcbiAgICAgICAgY29uc3QgZm9jdXNQb2ludCA9IHRoaXMuY2FsY3VsYXRlRm9jdXNQb2ludCh3b3JkKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMud29yZHMucHVzaCh7XG4gICAgICAgICAgd29yZDogd29yZCxcbiAgICAgICAgICBpc1dpa2lMaW5rOiBwYXJhZ3JhcGgud2lraUxpbmtzLmluY2x1ZGVzKHdvcmQpLFxuICAgICAgICAgIGlzS2V5d29yZDogcGFyYWdyYXBoLmtleXdvcmRzLmluY2x1ZGVzKHdvcmQpLFxuICAgICAgICAgIGlzUHVuY3R1YXRpb246IHRoaXMuaXNQdW5jdHVhdGlvbih3b3JkKSxcbiAgICAgICAgICBmb2N1c1BvaW50OiBmb2N1c1BvaW50LFxuICAgICAgICAgIHBhcmFncmFwaEJyZWFrOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGN1cnJlbnRXb3JkSW5kZXgrKztcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBcdTY4MDdcdThCQjBcdTZCQjVcdTg0M0RcdTdFRDNcdTY3NUZcbiAgICAgIGlmICh0aGlzLndvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy53b3Jkc1t0aGlzLndvcmRzLmxlbmd0aCAtIDFdLnBhcmFncmFwaEJyZWFrID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wYXJhZ3JhcGhCcmVha1BvaW50cy5wdXNoKHRoaXMud29yZHMubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHU4QkJFXHU3RjZFXHU1RjAwXHU1OUNCXHU0RjREXHU3RjZFXG4gICAgdGhpcy5zZXRDdXJyZW50UG9zaXRpb24oc3RhcnRQb3NpdGlvbik7XG4gIH1cbiAgXG4gIGdldE5leHRXb3JkKCk6IFdvcmREYXRhIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMuY3VycmVudFBvc2l0aW9uID49IHRoaXMud29yZHMubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuY3VycmVudFBvc2l0aW9uKys7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFdvcmREYXRhKCk7XG4gIH1cbiAgXG4gIGdldEN1cnJlbnRXb3JkRGF0YSgpOiBXb3JkRGF0YSB8IG51bGwge1xuICAgIGlmICh0aGlzLmN1cnJlbnRQb3NpdGlvbiA+PSAwICYmIHRoaXMuY3VycmVudFBvc2l0aW9uIDwgdGhpcy53b3Jkcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLndvcmRzW3RoaXMuY3VycmVudFBvc2l0aW9uXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgXG4gIGdldEN1cnJlbnRQb3NpdGlvbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRQb3NpdGlvbjtcbiAgfVxuICBcbiAgc2V0Q3VycmVudFBvc2l0aW9uKHBvc2l0aW9uOiBudW1iZXIpIHtcbiAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IE1hdGgubWF4KDAsIE1hdGgubWluKHBvc2l0aW9uLCB0aGlzLndvcmRzLmxlbmd0aCAtIDEpKTtcbiAgfVxuICBcbiAgZ2V0VG90YWxXb3JkcygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLndvcmRzLmxlbmd0aDtcbiAgfVxuICBcbiAgZ2V0UmVhZGluZ1Byb2dyZXNzKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMud29yZHMubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50UG9zaXRpb24gLyAodGhpcy53b3Jkcy5sZW5ndGggLSAxKTtcbiAgfVxuICBcbiAgZ2V0RGlzcGxheVRpbWVGb3JDdXJyZW50V29yZChiYXNlU3BlZWQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3Qgd29yZERhdGEgPSB0aGlzLmdldEN1cnJlbnRXb3JkRGF0YSgpO1xuICAgIGlmICghd29yZERhdGEpIHJldHVybiA2MDAwMCAvIGJhc2VTcGVlZDsgLy8gXHU5RUQ4XHU4QkE0XHU1MDNDXHVGRjA4bXNcdUZGMDlcbiAgICBcbiAgICAvLyBcdTU3RkFcdTc4NDBcdTY2M0VcdTc5M0FcdTY1RjZcdTk1RjRcdUZGMDhcdTZCRUJcdTc5RDJcdUZGMDlcbiAgICBsZXQgZGlzcGxheVRpbWUgPSA2MDAwMCAvIGJhc2VTcGVlZDtcbiAgICBcbiAgICAvLyBcdTU5ODJcdTY3OUNcdTU0MkZcdTc1MjhcdTY2N0FcdTgwRkRcdTY2ODJcdTUwNUNcdUZGMENcdTRFMTRcdTVGNTNcdTUyNERcdThCQ0RcdTY2MkZcdTY4MDdcdTcwQjlcdTdCMjZcdTUzRjdcdTdFRDNcdTVDM0VcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVJbnRlbGxpZ2VudFBhdXNlICYmIHdvcmREYXRhLmlzUHVuY3R1YXRpb24pIHtcbiAgICAgIGRpc3BsYXlUaW1lICo9IHRoaXMuc2V0dGluZ3MucGF1c2VNdWx0aXBsaWVyRm9yUHVuY3R1YXRpb247XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjYyRlx1NkJCNVx1ODQzRFx1N0VEM1x1Njc1Rlx1RkYwQ1x1OTg5RFx1NTkxNlx1NUVGNlx1OTU3Rlx1NjVGNlx1OTVGNFxuICAgIGlmICh3b3JkRGF0YS5wYXJhZ3JhcGhCcmVhaykge1xuICAgICAgZGlzcGxheVRpbWUgKj0gMS41O1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTY4MzlcdTYzNkVcdTUzNTVcdThCQ0RcdTk1N0ZcdTVFQTZcdTkwMDJcdTVGNTNcdThDMDNcdTY1NzRcdTY1RjZcdTk1RjRcbiAgICBpZiAod29yZERhdGEud29yZC5sZW5ndGggPiA4KSB7XG4gICAgICBkaXNwbGF5VGltZSAqPSAxLjI7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBkaXNwbGF5VGltZTtcbiAgfVxuICBcbiAganVtcFRvTmV4dFBhcmFncmFwaCgpIHtcbiAgICAvLyBcdTYyN0VcdTUyMzBcdTRFMEJcdTRFMDBcdTRFMkFcdTZCQjVcdTg0M0RcdTY1QURcdTcwQjlcbiAgICBmb3IgKGNvbnN0IGJyZWFrUG9pbnQgb2YgdGhpcy5wYXJhZ3JhcGhCcmVha1BvaW50cykge1xuICAgICAgaWYgKGJyZWFrUG9pbnQgPiB0aGlzLmN1cnJlbnRQb3NpdGlvbikge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRQb3NpdGlvbihicmVha1BvaW50ICsgMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU2Q0ExXHU2NzA5XHU0RTBCXHU0RTAwXHU2QkI1XHVGRjBDXHU4REYzXHU1MjMwXHU2NzJCXHU1QzNFXG4gICAgdGhpcy5zZXRDdXJyZW50UG9zaXRpb24odGhpcy53b3Jkcy5sZW5ndGggLSAxKTtcbiAgfVxuICBcbiAganVtcFRvUHJldmlvdXNQYXJhZ3JhcGgoKSB7XG4gICAgLy8gXHU2MjdFXHU1MjMwXHU0RTBBXHU0RTAwXHU0RTJBXHU2QkI1XHU4NDNEXHU2NUFEXHU3MEI5XG4gICAgbGV0IHByZXZCcmVhayA9IDA7XG4gICAgZm9yIChjb25zdCBicmVha1BvaW50IG9mIHRoaXMucGFyYWdyYXBoQnJlYWtQb2ludHMpIHtcbiAgICAgIGlmIChicmVha1BvaW50ID49IHRoaXMuY3VycmVudFBvc2l0aW9uKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcHJldkJyZWFrID0gYnJlYWtQb2ludDtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5zZXRDdXJyZW50UG9zaXRpb24ocHJldkJyZWFrKTtcbiAgfVxuICBcbiAgZ2VuZXJhdGVNaW5kbWFwKCk6IHN0cmluZyB7XG4gICAgLy8gXHU2M0QwXHU1M0Q2XHU2NTg3XHU2ODYzXHU3Njg0XHU1MTczXHU5NTJFXHU2OTgyXHU1RkY1XHU1NDhDXHU3RUQzXHU2Nzg0XHVGRjBDXHU3NTFGXHU2MjEwXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHU2ODNDXHU1RjBGXHU3Njg0TWFya2Rvd25cbiAgICBsZXQgbWluZG1hcENvbnRlbnQgPSBcIiMgXHU2NTg3XHU2ODYzXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXFxuXFxuXCI7XG4gICAgXG4gICAgLy8gXHU2NTM2XHU5NkM2XHU1MTczXHU5NTJFXHU4QkNEXG4gICAgY29uc3Qga2V5d29yZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICB0aGlzLndvcmRzLmZvckVhY2god29yZCA9PiB7XG4gICAgICBpZiAod29yZC5pc0tleXdvcmQpIHtcbiAgICAgICAga2V5d29yZHMuYWRkKHdvcmQud29yZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHU1MjA2XHU2NzkwXHU2NTg3XHU2ODYzXHU3RUQzXHU2Nzg0XG4gICAgY29uc3Qgc3RydWN0dXJlQW5hbHlzaXMgPSB0aGlzLnRleHRQcm9jZXNzb3IuYW5hbHl6ZURvY3VtZW50U3RydWN0dXJlKCk7XG4gICAgXG4gICAgLy8gXHU2Nzg0XHU1RUZBXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXG4gICAgbWluZG1hcENvbnRlbnQgKz0gXCIjIyBcdTY4MzhcdTVGQzNcdTY5ODJcdTVGRjVcXG5cXG5cIjtcbiAgICBrZXl3b3Jkcy5mb3JFYWNoKGtleXdvcmQgPT4ge1xuICAgICAgbWluZG1hcENvbnRlbnQgKz0gYC0gJHtrZXl3b3JkfVxcbmA7XG4gICAgfSk7XG4gICAgXG4gICAgbWluZG1hcENvbnRlbnQgKz0gXCJcXG4jIyBcdTY1ODdcdTY4NjNcdTdFRDNcdTY3ODRcXG5cXG5cIjtcbiAgICBzdHJ1Y3R1cmVBbmFseXNpcy5mb3JFYWNoKChzZWN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaW5kZW50ID0gXCIgIFwiLnJlcGVhdChzZWN0aW9uLmxldmVsIC0gMSk7XG4gICAgICBtaW5kbWFwQ29udGVudCArPSBgJHtpbmRlbnR9LSAke3NlY3Rpb24udGl0bGV9XFxuYDtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gbWluZG1hcENvbnRlbnQ7XG4gIH1cbiAgXG4gIHByaXZhdGUgY2FsY3VsYXRlRm9jdXNQb2ludCh3b3JkOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIC8vIFx1OEJBMVx1N0I5N1x1NTM1NVx1OEJDRFx1NzY4NFx1NjcwMFx1NEY3M1x1NzEyNlx1NzBCOVx1NEY0RFx1N0Y2RVxuICAgIC8vIFx1OTAxQVx1NUUzOFx1NjYyRlx1NTM1NVx1OEJDRFx1OTU3Rlx1NUVBNlx1NzY4NDEvM1x1NTkwNFx1RkYwOFx1NTZEQlx1ODIwRFx1NEU5NFx1NTE2NVx1RkYwOVxuICAgIGNvbnN0IHdvcmRMZW5ndGggPSB3b3JkLmxlbmd0aDtcbiAgICBcbiAgICBpZiAod29yZExlbmd0aCA8PSAxKSByZXR1cm4gMDtcbiAgICBcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5mbG9vcih3b3JkTGVuZ3RoIC8gMyksIDIpO1xuICB9XG4gIFxuICBwcml2YXRlIGlzUHVuY3R1YXRpb24od29yZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgLy8gXHU2OEMwXHU2N0U1XHU4QkNEXHU2NjJGXHU1NDI2XHU0RUU1XHU2ODA3XHU3MEI5XHU3QjI2XHU1M0Y3XHU3RUQzXHU1QzNFXG4gICAgY29uc3QgcHVuY3R1YXRpb25zID0gWycuJywgJywnLCAnIScsICc/JywgJzsnLCAnOicsICdcdTMwMDInLCAnXHVGRjBDJywgJ1x1RkYwMScsICdcdUZGMUYnLCAnXHVGRjFCJywgJ1x1RkYxQScsICdcdTMwMDEnXTtcbiAgICByZXR1cm4gcHVuY3R1YXRpb25zLmluY2x1ZGVzKHdvcmRbd29yZC5sZW5ndGggLSAxXSk7XG4gIH1cbn0iLCAiZXhwb3J0IGNsYXNzIENoaW5lc2VUb2tlbml6ZXIge1xuICAvLyBcdThGRDlcdTkxQ0NcdTVCOUVcdTczQjBcdTRFMkRcdTY1ODdcdTUyMDZcdThCQ0RcdTUyOUZcdTgwRkRcbiAgLy8gXHU1QjlFXHU5NjQ1XHU1RTk0XHU3NTI4XHU0RTJEXHU1M0VGXHU0RUU1XHU5NkM2XHU2MjEwXHU3QjJDXHU0RTA5XHU2NUI5XHU1MjA2XHU4QkNEXHU1RTkzXHU1OTgyamllYmFcbiAgXG4gIHByaXZhdGUgc2VnbWVudERpY3Q6IE1hcDxzdHJpbmcsIG51bWJlcj47XG4gIFxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTdCODBcdTUzNTVcdTc2ODRcdThCQ0RcdTUxNzhcbiAgICB0aGlzLnNlZ21lbnREaWN0ID0gbmV3IE1hcCgpO1xuICAgIFxuICAgIC8vIFx1NTJBMFx1OEY3RFx1NUUzOFx1NzUyOFx1OEJDRFx1RkYwOFx1NzkzQVx1NEY4Qlx1RkYwOVxuICAgIGNvbnN0IGNvbW1vbldvcmRzID0gW1xuICAgICAgXCJcdTc4MTRcdTdBNzZcIiwgXCJcdTVCNjZcdTRFNjBcIiwgXCJcdTY1QjlcdTZDRDVcIiwgXCJcdTc3RTVcdThCQzZcIiwgXCJcdTdCQTFcdTc0MDZcIiwgXCJcdTdDRkJcdTdFREZcIiwgXCJcdTYwMURcdTdFRjRcIiwgXCJcdTVERTVcdTRGNUNcIixcbiAgICAgIFwiXHU2NTQ4XHU3Mzg3XCIsIFwiXHU2M0QwXHU5QUQ4XCIsIFwiXHU1ODlFXHU1RjNBXCIsIFwiXHU4QkIwXHU1RkM2XCIsIFwiXHU3NDA2XHU4OUUzXCIsIFwiXHU1MjA2XHU2NzkwXCIsIFwiXHU2NTg3XHU3QUUwXCIsIFwiXHU5NjA1XHU4QkZCXCIsXG4gICAgICBcIlx1OTAxRlx1NUVBNlwiLCBcIlx1OEJBNFx1NzdFNVwiLCBcIlx1N0IxNFx1OEJCMFwiLCBcIlx1NTkwRFx1NEU2MFwiLCBcIlx1NjAzQlx1N0VEM1wiLCBcIlx1NUI5RVx1OERGNVwiLCBcIlx1NUU5NFx1NzUyOFwiLCBcIlx1NjI4MFx1NURFN1wiXG4gICAgXTtcbiAgICBcbiAgICBjb21tb25Xb3Jkcy5mb3JFYWNoKHdvcmQgPT4ge1xuICAgICAgdGhpcy5zZWdtZW50RGljdC5zZXQod29yZCwgMSk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIHRva2VuaXplKHRleHQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICAvLyBcdTdCODBcdTUzMTZcdTcyNDhcdTc2ODRcdTRFMkRcdTY1ODdcdTUyMDZcdThCQ0RcdTVCOUVcdTczQjBcbiAgICAvLyAxLiBcdTk5OTZcdTUxNDhcdTVDMURcdThCRDVcdTU3RkFcdTRFOEVcdThCQ0RcdTUxNzhcdTc2ODRcdTY3MDBcdTU5MjdcdTZCNjNcdTU0MTFcdTUzMzlcdTkxNERcbiAgICAvLyAyLiBcdTVCRjlcdTRFOEVcdTY3MkFcdTgwRkRcdTUzMzlcdTkxNERcdTc2ODRcdTkwRThcdTUyMDZcdUZGMENcdTYzMDlcdTVCNTdcdTdCMjZcdTUyMDdcdTUyMDZcbiAgICBcbiAgICBjb25zdCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBcbiAgICB3aGlsZSAoc3RhcnQgPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgLy8gXHU1QzFEXHU4QkQ1XHU1MzM5XHU5MTREXHU2NzAwXHU5NTdGXHU4QkNEXG4gICAgICBsZXQgZm91bmRNYXRjaCA9IGZhbHNlO1xuICAgICAgbGV0IGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgNCwgdGV4dC5sZW5ndGgpOyAvLyBcdTY3MDBcdTU5MjdcdTc3MEI0XHU0RTJBXHU1QjU3XHU3QjI2XG4gICAgICBcbiAgICAgIHdoaWxlIChlbmQgPiBzdGFydCkge1xuICAgICAgICBjb25zdCBzZWdtZW50ID0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gICAgICAgIGlmICh0aGlzLnNlZ21lbnREaWN0LmhhcyhzZWdtZW50KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHNlZ21lbnQpO1xuICAgICAgICAgIHN0YXJ0ID0gZW5kO1xuICAgICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVuZC0tO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdTU5ODJcdTY3OUNcdTZDQTFcdTY3MDlcdTUzMzlcdTkxNERcdTUyMzBcdThCQ0RcdTUxNzhcdTRFMkRcdTc2ODRcdThCQ0RcdUZGMENcdTYzMDlcdTVCNTdcdTdCMjZcdTUyMDdcdTUyMDZcbiAgICAgIGlmICghZm91bmRNYXRjaCkge1xuICAgICAgICAvLyBcdTU5MDRcdTc0MDZcdTgyRjFcdTY1ODdcdTUzNTVcdThCQ0RcbiAgICAgICAgaWYgKC9bYS16QS1aMC05XS8udGVzdCh0ZXh0W3N0YXJ0XSkpIHtcbiAgICAgICAgICBsZXQgd29yZEVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHdoaWxlICh3b3JkRW5kIDwgdGV4dC5sZW5ndGggJiYgL1thLXpBLVowLTldLy50ZXN0KHRleHRbd29yZEVuZF0pKSB7XG4gICAgICAgICAgICB3b3JkRW5kKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHRleHQuc3Vic3RyaW5nKHN0YXJ0LCB3b3JkRW5kKSk7XG4gICAgICAgICAgc3RhcnQgPSB3b3JkRW5kO1xuICAgICAgICB9XG4gICAgICAgIC8vIFx1NTkwNFx1NzQwNlx1NjgwN1x1NzBCOVx1N0IyNlx1NTNGN1x1NTQ4Q1x1NTE3Nlx1NEVENlx1NUI1N1x1N0IyNlxuICAgICAgICBlbHNlIGlmICgvW1x1RkYwQ1x1MzAwMlx1RkYwMVx1RkYxRlx1RkYxQlx1RkYxQVwiXCInJ1x1RkYwOFx1RkYwOVx1MzAwMV0vLnRlc3QodGV4dFtzdGFydF0pKSB7XG4gICAgICAgICAgLy8gXHU1OTgyXHU2NzlDXHU3RUQzXHU2NzlDXHU5NzVFXHU3QTdBXHVGRjBDXHU1QzA2XHU2ODA3XHU3MEI5XHU3QjI2XHU1M0Y3XHU5NjQ0XHU1MkEwXHU1MjMwXHU1MjREXHU0RTAwXHU0RTJBXHU1MzU1XHU4QkNEXG4gICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdICs9IHRleHRbc3RhcnRdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0ZXh0W3N0YXJ0XSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXJ0Kys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gXHU1OTA0XHU3NDA2XHU0RTJEXHU2NTg3XHU1MzU1XHU1QjU3XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHRleHRbc3RhcnRdKTtcbiAgICAgICAgICBzdGFydCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0iLCAiZXhwb3J0IGNsYXNzIE1hcmtkb3duUGFyc2VyIHtcbiAgLy8gXHU1OTA0XHU3NDA2TWFya2Rvd25cdTY1ODdcdTY3MkNcdUZGMENcdTYzRDBcdTUzRDZcdTdFQUZcdTY1ODdcdTY3MkNcdTUxODVcdTVCQjlcdTU0OENcdTdFRDNcdTY3ODRcbiAgXG4gIGNsZWFuTWFya2Rvd24obWFya2Rvd246IHN0cmluZyk6IHsgY2xlYW5UZXh0OiBzdHJpbmcsIHdpa2lMaW5rczogc3RyaW5nW10gfSB7XG4gICAgbGV0IGNsZWFuVGV4dCA9IG1hcmtkb3duO1xuICAgIGNvbnN0IHdpa2lMaW5rczogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICAvLyBcdTYzRDBcdTUzRDZXaWtpXHU5NEZFXHU2M0E1IFtbXHU5NEZFXHU2M0E1XV1cbiAgICBjb25zdCB3aWtpTGlua1JlZ2V4ID0gL1xcW1xcWyhbXlxcXV0rKVxcXVxcXS9nO1xuICAgIGxldCBtYXRjaDtcbiAgICB3aGlsZSAobWF0Y2ggPSB3aWtpTGlua1JlZ2V4LmV4ZWMobWFya2Rvd24pKSB7XG4gICAgICBjb25zdCBsaW5rVGV4dCA9IG1hdGNoWzFdLnNwbGl0KCd8JylbMF07XG4gICAgICB3aWtpTGlua3MucHVzaChsaW5rVGV4dCk7XG4gICAgICBcbiAgICAgIC8vIFx1NTcyOFx1NkUwNVx1NzQwNlx1NTQwRVx1NzY4NFx1NjU4N1x1NjcyQ1x1NEUyRFx1NEZERFx1NzU1OVx1OTRGRVx1NjNBNVx1NjU4N1x1NUI1N1xuICAgICAgY29uc3QgZGlzcGxheVRleHQgPSBtYXRjaFsxXS5pbmNsdWRlcygnfCcpID8gbWF0Y2hbMV0uc3BsaXQoJ3wnKVsxXSA6IGxpbmtUZXh0O1xuICAgICAgY2xlYW5UZXh0ID0gY2xlYW5UZXh0LnJlcGxhY2UobWF0Y2hbMF0sIGRpc3BsYXlUZXh0KTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU3OUZCXHU5NjY0XHU0RUUzXHU3ODAxXHU1NzU3XG4gICAgY2xlYW5UZXh0ID0gY2xlYW5UZXh0LnJlcGxhY2UoL2BgYFtcXHNcXFNdKj9gYGAvZywgJycpO1xuICAgIFxuICAgIC8vIFx1NzlGQlx1OTY2NFx1ODg0Q1x1NTE4NVx1NEVFM1x1NzgwMVxuICAgIGNsZWFuVGV4dCA9IGNsZWFuVGV4dC5yZXBsYWNlKC9gW15gXSpgL2csICcnKTtcbiAgICBcbiAgICAvLyBcdTc5RkJcdTk2NjRcdTU2RkVcdTcyNDdcbiAgICBjbGVhblRleHQgPSBjbGVhblRleHQucmVwbGFjZSgvIVxcWyhbXlxcXV0qKVxcXVxcKFteKV0rXFwpL2csICcnKTtcbiAgICBcbiAgICAvLyBcdTU5MDRcdTc0MDZcdTY2NkVcdTkwMUFcdTk0RkVcdTYzQTUgW1x1NjU4N1x1NUI1N10oXHU5NEZFXHU2M0E1KVxuICAgIGNsZWFuVGV4dCA9IGNsZWFuVGV4dC5yZXBsYWNlKC9cXFsoW15cXF1dKylcXF1cXChbXildK1xcKS9nLCAnJDEnKTtcbiAgICBcbiAgICAvLyBcdTc5RkJcdTk2NjRIVE1MXHU2ODA3XHU3QjdFXG4gICAgY2xlYW5UZXh0ID0gY2xlYW5UZXh0LnJlcGxhY2UoLzxbXj5dKj4vZywgJycpO1xuICAgIFxuICAgIC8vIFx1NTkwNFx1NzQwNlx1N0M5N1x1NEY1M1x1NTQ4Q1x1NjU5Q1x1NEY1M1xuICAgIGNsZWFuVGV4dCA9IGNsZWFuVGV4dC5yZXBsYWNlKC8oXFwqXFwqfF9fKSguKj8pXFwxL2csICckMicpO1xuICAgIGNsZWFuVGV4dCA9IGNsZWFuVGV4dC5yZXBsYWNlKC8oXFwqfF8pKC4qPylcXDEvZywgJyQyJyk7XG4gICAgXG4gICAgLy8gXHU3OUZCXHU5NjY0XHU2QzM0XHU1RTczXHU3RUJGXG4gICAgY2xlYW5UZXh0ID0gY2xlYW5UZXh0LnJlcGxhY2UoL15cXHMqWy0qX117Myx9XFxzKiQvZ20sICdcXG4nKTtcbiAgICBcbiAgICAvLyBcdTU5MDRcdTc0MDZcdTY4MDdcdTk4OThcbiAgICBjbGVhblRleHQgPSBjbGVhblRleHQucmVwbGFjZSgvXiMrXFxzKyguKj8pJC9nbSwgJyQxXFxuJyk7XG4gICAgXG4gICAgcmV0dXJuIHsgY2xlYW5UZXh0LCB3aWtpTGlua3MgfTtcbiAgfVxuICBcbiAgcGFyc2VEb2N1bWVudFN0cnVjdHVyZShtYXJrZG93bjogc3RyaW5nKTogeyBsZXZlbDogbnVtYmVyLCB0aXRsZTogc3RyaW5nLCBwb3NpdGlvbjogbnVtYmVyIH1bXSB7XG4gICAgY29uc3Qgc3RydWN0dXJlOiB7IGxldmVsOiBudW1iZXIsIHRpdGxlOiBzdHJpbmcsIHBvc2l0aW9uOiBudW1iZXIgfVtdID0gW107XG4gICAgXG4gICAgLy8gXHU1MzM5XHU5MTREXHU2ODA3XHU5ODk4XG4gICAgY29uc3QgaGVhZGluZ1JlZ2V4ID0gL14oI3sxLDZ9KVxccysoLio/KSQvZ207XG4gICAgbGV0IG1hdGNoO1xuICAgIFxuICAgIHdoaWxlIChtYXRjaCA9IGhlYWRpbmdSZWdleC5leGVjKG1hcmtkb3duKSkge1xuICAgICAgY29uc3QgbGV2ZWwgPSBtYXRjaFsxXS5sZW5ndGg7XG4gICAgICBjb25zdCB0aXRsZSA9IG1hdGNoWzJdLnRyaW0oKTtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gbWF0Y2guaW5kZXg7XG4gICAgICBcbiAgICAgIHN0cnVjdHVyZS5wdXNoKHsgbGV2ZWwsIHRpdGxlLCBwb3NpdGlvbiB9KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHN0cnVjdHVyZTtcbiAgfVxufSIsICJpbXBvcnQgeyBDaGluZXNlVG9rZW5pemVyIH0gZnJvbSAnLi4vdXRpbHMvQ2hpbmVzZVRva2VuaXplcic7XG5pbXBvcnQgeyBNYXJrZG93blBhcnNlciB9IGZyb20gJy4uL3V0aWxzL01hcmtkb3duUGFyc2VyJztcblxuaW50ZXJmYWNlIFBhcmFncmFwaERhdGEge1xuICB3b3Jkczogc3RyaW5nW107XG4gIHdpa2lMaW5rczogc3RyaW5nW107XG4gIGtleXdvcmRzOiBzdHJpbmdbXTtcbn1cblxuaW50ZXJmYWNlIERvY3VtZW50U3RydWN0dXJlIHtcbiAgbGV2ZWw6IG51bWJlcjsgIC8vIFx1NjgwN1x1OTg5OFx1N0VBN1x1NTIyQiAoMS02KVxuICB0aXRsZTogc3RyaW5nO1xuICBwb3NpdGlvbjogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgVGV4dFByb2Nlc3NvciB7XG4gIHByaXZhdGUgY2hpbmVzZVRva2VuaXplcjogQ2hpbmVzZVRva2VuaXplcjtcbiAgcHJpdmF0ZSBtYXJrZG93blBhcnNlcjogTWFya2Rvd25QYXJzZXI7XG4gIHByaXZhdGUgdXNlQ2hpbmVzZVRva2VuaXplcjogYm9vbGVhbjtcbiAgcHJpdmF0ZSByYXdUZXh0OiBzdHJpbmcgPSBcIlwiO1xuICBwcml2YXRlIHByb2Nlc3NlZFN0cnVjdHVyZTogRG9jdW1lbnRTdHJ1Y3R1cmVbXSA9IFtdO1xuICBcbiAgY29uc3RydWN0b3IodXNlQ2hpbmVzZVRva2VuaXplcjogYm9vbGVhbikge1xuICAgIHRoaXMudXNlQ2hpbmVzZVRva2VuaXplciA9IHVzZUNoaW5lc2VUb2tlbml6ZXI7XG4gICAgdGhpcy5jaGluZXNlVG9rZW5pemVyID0gbmV3IENoaW5lc2VUb2tlbml6ZXIoKTtcbiAgICB0aGlzLm1hcmtkb3duUGFyc2VyID0gbmV3IE1hcmtkb3duUGFyc2VyKCk7XG4gIH1cbiAgXG4gIHByb2Nlc3NNYXJrZG93bih0ZXh0OiBzdHJpbmcpOiB7IHBhcmFncmFwaHM6IFBhcmFncmFwaERhdGFbXSB9IHtcbiAgICB0aGlzLnJhd1RleHQgPSB0ZXh0O1xuICAgIFxuICAgIC8vIFx1ODlFM1x1Njc5ME1hcmtkb3duXHU2NTg3XHU2ODYzXHU3RUQzXHU2Nzg0XG4gICAgdGhpcy5wcm9jZXNzZWRTdHJ1Y3R1cmUgPSB0aGlzLm1hcmtkb3duUGFyc2VyLnBhcnNlRG9jdW1lbnRTdHJ1Y3R1cmUodGV4dCk7XG4gICAgXG4gICAgLy8gXHU0RjdGXHU3NTI4TWFya2Rvd25QYXJzZXJcdTYzRDBcdTUzRDZcdTdFQUZcdTY1ODdcdTY3MkNcdTU0OENXaWtpXHU5NEZFXHU2M0E1XG4gICAgY29uc3QgeyBjbGVhblRleHQsIHdpa2lMaW5rcyB9ID0gdGhpcy5tYXJrZG93blBhcnNlci5jbGVhbk1hcmtkb3duKHRleHQpO1xuICAgIFxuICAgIC8vIFx1NjNEMFx1NTNENlx1NTE3M1x1OTUyRVx1OEJDRFxuICAgIGNvbnN0IGtleXdvcmRzID0gdGhpcy5leHRyYWN0S2V5d29yZHMoY2xlYW5UZXh0KTtcbiAgICBcbiAgICAvLyBcdTUyMDZcdTUyNzJcdTYyMTBcdTZCQjVcdTg0M0RcbiAgICBjb25zdCBwYXJhZ3JhcGhzOiBQYXJhZ3JhcGhEYXRhW10gPSBbXTtcbiAgICBcbiAgICAvLyBcdTYzMDlcdTZCQjVcdTg0M0RcdTUyMDZcdTUyNzJcdTY1ODdcdTY3MkNcbiAgICBjb25zdCBwYXJhZ3JhcGhUZXh0cyA9IGNsZWFuVGV4dC5zcGxpdCgvXFxuXFxzKlxcbi8pO1xuICAgIFxuICAgIHBhcmFncmFwaFRleHRzLmZvckVhY2gocGFyYWdyYXBoVGV4dCA9PiB7XG4gICAgICBpZiAoIXBhcmFncmFwaFRleHQudHJpbSgpKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIFx1NTkwNFx1NzQwNlx1NTM1NVx1OEJDRFxuICAgICAgY29uc3Qgd29yZHMgPSB0aGlzLnRva2VuaXplVGV4dChwYXJhZ3JhcGhUZXh0KTtcbiAgICAgIFxuICAgICAgLy8gXHU2MjdFXHU1MUZBXHU2QkI1XHU4NDNEXHU0RTJEXHU3Njg0V2lraVx1OTRGRVx1NjNBNVxuICAgICAgY29uc3QgcGFyYWdyYXBoV2lraUxpbmtzID0gdGhpcy5maW5kV2lraUxpbmtzSW5QYXJhZ3JhcGgocGFyYWdyYXBoVGV4dCwgd2lraUxpbmtzKTtcbiAgICAgIFxuICAgICAgLy8gXHU2MjdFXHU1MUZBXHU2QkI1XHU4NDNEXHU0RTJEXHU3Njg0XHU1MTczXHU5NTJFXHU4QkNEXG4gICAgICBjb25zdCBwYXJhZ3JhcGhLZXl3b3JkcyA9IHRoaXMuZmluZEtleXdvcmRzSW5QYXJhZ3JhcGgocGFyYWdyYXBoVGV4dCwga2V5d29yZHMpO1xuICAgICAgXG4gICAgICBwYXJhZ3JhcGhzLnB1c2goe1xuICAgICAgICB3b3JkcyxcbiAgICAgICAgd2lraUxpbmtzOiBwYXJhZ3JhcGhXaWtpTGlua3MsXG4gICAgICAgIGtleXdvcmRzOiBwYXJhZ3JhcGhLZXl3b3Jkc1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHsgcGFyYWdyYXBocyB9O1xuICB9XG4gIFxuICBhcHByb3hpbWF0ZVdvcmRQb3NpdGlvbihmdWxsVGV4dDogc3RyaW5nLCB0ZXh0QmVmb3JlQ3Vyc29yOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIC8vIFx1NTkwNFx1NzQwNlx1NTE2OFx1NjU4N1xuICAgIGNvbnN0IHsgcGFyYWdyYXBocyB9ID0gdGhpcy5wcm9jZXNzTWFya2Rvd24oZnVsbFRleHQpO1xuICAgIFxuICAgIC8vIFx1NUMwNlx1NjI0MFx1NjcwOVx1NTM1NVx1OEJDRFx1NUM1NVx1NUU3M1x1NjIxMFx1NEUwMFx1NEUyQVx1NjU3MFx1N0VDNFxuICAgIGNvbnN0IGFsbFdvcmRzID0gcGFyYWdyYXBocy5mbGF0TWFwKHAgPT4gcC53b3Jkcyk7XG4gICAgXG4gICAgLy8gXHU1OTA0XHU3NDA2XHU1MTQ5XHU2ODA3XHU0RTRCXHU1MjREXHU3Njg0XHU2NTg3XHU2NzJDXG4gICAgY29uc3QgeyBwYXJhZ3JhcGhzOiBiZWZvcmVDdXJzb3JQYXJhZ3JhcGhzIH0gPSB0aGlzLnByb2Nlc3NNYXJrZG93bih0ZXh0QmVmb3JlQ3Vyc29yKTtcbiAgICBjb25zdCBiZWZvcmVDdXJzb3JXb3JkcyA9IGJlZm9yZUN1cnNvclBhcmFncmFwaHMuZmxhdE1hcChwID0+IHAud29yZHMpO1xuICAgIFxuICAgIC8vIFx1OEZENFx1NTZERVx1NTkyN1x1ODFGNFx1NEY0RFx1N0Y2RVx1RkYwOFx1NTNFRlx1ODBGRFx1NEUwRFx1NUI4Q1x1NTE2OFx1NTFDNlx1Nzg2RVx1RkYwQ1x1NEY0Nlx1OERCM1x1NTkxRlx1NjNBNVx1OEZEMVx1RkYwOVxuICAgIHJldHVybiBNYXRoLm1pbihiZWZvcmVDdXJzb3JXb3Jkcy5sZW5ndGgsIGFsbFdvcmRzLmxlbmd0aCAtIDEpO1xuICB9XG4gIFxuICBhbmFseXplRG9jdW1lbnRTdHJ1Y3R1cmUoKTogRG9jdW1lbnRTdHJ1Y3R1cmVbXSB7XG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc2VkU3RydWN0dXJlO1xuICB9XG4gIFxuICBwcml2YXRlIHRva2VuaXplVGV4dCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgLy8gXHU0RTJEXHU2NTg3XHU1OTA0XHU3NDA2XG4gICAgaWYgKHRoaXMudXNlQ2hpbmVzZVRva2VuaXplciAmJiB0aGlzLmNvbnRhaW5zQ2hpbmVzZSh0ZXh0KSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hpbmVzZVRva2VuaXplci50b2tlbml6ZSh0ZXh0KTtcbiAgICB9IFxuICAgIFxuICAgIC8vIFx1ODJGMVx1NjU4N1x1NTQ4Q1x1NTE3Nlx1NEVENlx1OEJFRFx1OEEwMFx1NTkwNFx1NzQwNlxuICAgIHJldHVybiB0ZXh0LnRyaW0oKVxuICAgICAgLnNwbGl0KC9cXHMrLylcbiAgICAgIC5maWx0ZXIod29yZCA9PiB3b3JkLmxlbmd0aCA+IDApO1xuICB9XG4gIFxuICBwcml2YXRlIGNvbnRhaW5zQ2hpbmVzZSh0ZXh0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAvLyBcdTY4QzBcdTZENEJcdTY1ODdcdTY3MkNcdTY2MkZcdTU0MjZcdTUzMDVcdTU0MkJcdTRFMkRcdTY1ODdcdTVCNTdcdTdCMjZcbiAgICBjb25zdCBjaGluZXNlUmVnZXggPSAvW1xcdTRlMDAtXFx1OWZhNV0vO1xuICAgIHJldHVybiBjaGluZXNlUmVnZXgudGVzdCh0ZXh0KTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBleHRyYWN0S2V5d29yZHModGV4dDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIC8vIFx1OEZEOVx1OTFDQ1x1N0I4MFx1NTM1NVx1NEY3Rlx1NzUyOFx1OEJDRFx1OTg5MVx1NTIwNlx1Njc5MFx1NjNEMFx1NTNENlx1NTE3M1x1OTUyRVx1OEJDRFxuICAgIC8vIFx1NUI5RVx1OTY0NVx1NUU5NFx1NzUyOFx1NEUyRFx1NTNFRlx1NEVFNVx1NzUyOFx1NjZGNFx1NTkwRFx1Njc0Mlx1NzY4NFx1N0I5N1x1NkNENVx1RkYwQ1x1NTk4MlRGLUlERlxuICAgIFxuICAgIC8vIFx1NzlGQlx1OTY2NFx1NUUzOFx1ODlDMVx1NTA1Q1x1NzUyOFx1OEJDRFxuICAgIGNvbnN0IHN0b3B3b3JkcyA9IG5ldyBTZXQoWydcdTc2ODQnLCAnXHU2NjJGJywgJ1x1NTcyOCcsICdcdTRFODYnLCAnXHU1NDhDJywgJ1x1NEUwRScsICdcdTYyMTYnLCAnXHU1QkY5JywgJ1x1NEUxNCcsICd0aGUnLCAnYScsICdhbicsICdpcycsICdhcmUnLCAnaW4nLCAnb24nLCAnYXQnLCAndG8nLCAnZm9yJywgJ3dpdGgnLCAnYnknLCAnb2YnLCAnYW5kJywgJ29yJ10pO1xuICAgIFxuICAgIC8vIFx1NTIwNlx1OEJDRFxuICAgIGNvbnN0IHdvcmRzID0gdGhpcy50b2tlbml6ZVRleHQodGV4dCk7XG4gICAgXG4gICAgLy8gXHU4QkExXHU3Qjk3XHU4QkNEXHU5ODkxXG4gICAgY29uc3Qgd29yZENvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICAgIHdvcmRzLmZvckVhY2god29yZCA9PiB7XG4gICAgICBpZiAoIXN0b3B3b3Jkcy5oYXMod29yZC50b0xvd2VyQ2FzZSgpKSAmJiB3b3JkLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgd29yZENvdW50c1t3b3JkXSA9ICh3b3JkQ291bnRzW3dvcmRdIHx8IDApICsgMTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTYzMDlcdTk4OTFcdTczODdcdTYzOTJcdTVFOEZcbiAgICBjb25zdCBzb3J0ZWRXb3JkcyA9IE9iamVjdC5lbnRyaWVzKHdvcmRDb3VudHMpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pXG4gICAgICAuc2xpY2UoMCwgMTApXG4gICAgICAubWFwKGVudHJ5ID0+IGVudHJ5WzBdKTtcbiAgICBcbiAgICByZXR1cm4gc29ydGVkV29yZHM7XG4gIH1cbiAgXG4gIHByaXZhdGUgZmluZFdpa2lMaW5rc0luUGFyYWdyYXBoKHBhcmFncmFwaFRleHQ6IHN0cmluZywgYWxsV2lraUxpbmtzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcbiAgICAvLyBcdTYyN0VcdTUxRkFcdTZCQjVcdTg0M0RcdTRFMkRcdTUzMDVcdTU0MkJcdTc2ODRXaWtpXHU5NEZFXHU2M0E1XG4gICAgcmV0dXJuIGFsbFdpa2lMaW5rcy5maWx0ZXIobGluayA9PiBwYXJhZ3JhcGhUZXh0LmluY2x1ZGVzKGxpbmspKTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBmaW5kS2V5d29yZHNJblBhcmFncmFwaChwYXJhZ3JhcGhUZXh0OiBzdHJpbmcsIGFsbEtleXdvcmRzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcbiAgICAvLyBcdTYyN0VcdTUxRkFcdTZCQjVcdTg0M0RcdTRFMkRcdTUzMDVcdTU0MkJcdTc2ODRcdTUxNzNcdTk1MkVcdThCQ0RcbiAgICByZXR1cm4gYWxsS2V5d29yZHMuZmlsdGVyKGtleXdvcmQgPT4gcGFyYWdyYXBoVGV4dC5pbmNsdWRlcyhrZXl3b3JkKSk7XG4gIH1cbn0iLCAiaW1wb3J0IHsgVEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgUlNWUFJlYWRlclBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcblxuZXhwb3J0IGludGVyZmFjZSBSZWFkaW5nUHJvZ3Jlc3Mge1xuICBwb3NpdGlvbjogbnVtYmVyO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFQZXJzaXN0ZXIge1xuICBwcml2YXRlIHBsdWdpbjogUlNWUFJlYWRlclBsdWdpbjtcbiAgcHJpdmF0ZSByZWFkaW5nUHJvZ3Jlc3NNYXA6IE1hcDxzdHJpbmcsIFJlYWRpbmdQcm9ncmVzcz4gPSBuZXcgTWFwKCk7XG4gIFxuICBjb25zdHJ1Y3RvcihwbHVnaW46IFJTVlBSZWFkZXJQbHVnaW4pIHtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLmxvYWRBbGxSZWFkaW5nUHJvZ3Jlc3MoKTtcbiAgfVxuICBcbiAgYXN5bmMgc2F2ZVJlYWRpbmdQcm9ncmVzcyhmaWxlOiBURmlsZSwgcHJvZ3Jlc3M6IFJlYWRpbmdQcm9ncmVzcykge1xuICAgIC8vIFx1NEZERFx1NUI1OFx1NTIzMFx1NTE4NVx1NUI1OFxuICAgIHRoaXMucmVhZGluZ1Byb2dyZXNzTWFwLnNldChmaWxlLnBhdGgsIHByb2dyZXNzKTtcbiAgICBcbiAgICAvLyBcdTRGRERcdTVCNThcdTUyMzBcdTY1NzBcdTYzNkVcdTVCNThcdTUwQThcbiAgICBhd2FpdCB0aGlzLnNhdmVBbGxSZWFkaW5nUHJvZ3Jlc3MoKTtcbiAgICBcbiAgICAvLyBcdTY2RjRcdTY1QjBcdTY1ODdcdTRFRjZcdTc2ODRmcm9udG1hdHRlclx1RkYwOFx1NTk4Mlx1Njc5Q1x1NTQyRlx1NzUyOFx1RkYwOVxuICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy51cGRhdGVGaWxlRnJvbnRtYXR0ZXIpIHtcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlRmlsZUZyb250bWF0dGVyKGZpbGUsIHByb2dyZXNzKTtcbiAgICB9XG4gIH1cbiAgXG4gIGFzeW5jIGxvYWRSZWFkaW5nUHJvZ3Jlc3MoZmlsZTogVEZpbGUpOiBQcm9taXNlPFJlYWRpbmdQcm9ncmVzcyB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB0aGlzLnJlYWRpbmdQcm9ncmVzc01hcC5nZXQoZmlsZS5wYXRoKTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBhc3luYyBsb2FkQWxsUmVhZGluZ1Byb2dyZXNzKCkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnBsdWdpbi5sb2FkRGF0YSgpO1xuICAgIGlmIChkYXRhICYmIGRhdGEucmVhZGluZ1Byb2dyZXNzKSB7XG4gICAgICBPYmplY3QuZW50cmllcyhkYXRhLnJlYWRpbmdQcm9ncmVzcykuZm9yRWFjaCgoW3BhdGgsIHByb2dyZXNzXSkgPT4ge1xuICAgICAgICB0aGlzLnJlYWRpbmdQcm9ncmVzc01hcC5zZXQocGF0aCwgcHJvZ3Jlc3MgYXMgUmVhZGluZ1Byb2dyZXNzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBcbiAgcHJpdmF0ZSBhc3luYyBzYXZlQWxsUmVhZGluZ1Byb2dyZXNzKCkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnBsdWdpbi5sb2FkRGF0YSgpIHx8IHt9O1xuICAgIGRhdGEucmVhZGluZ1Byb2dyZXNzID0ge307XG4gICAgXG4gICAgdGhpcy5yZWFkaW5nUHJvZ3Jlc3NNYXAuZm9yRWFjaCgocHJvZ3Jlc3MsIHBhdGgpID0+IHtcbiAgICAgIGRhdGEucmVhZGluZ1Byb2dyZXNzW3BhdGhdID0gcHJvZ3Jlc3M7XG4gICAgfSk7XG4gICAgXG4gICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoZGF0YSk7XG4gIH1cbiAgXG4gIHByaXZhdGUgYXN5bmMgdXBkYXRlRmlsZUZyb250bWF0dGVyKGZpbGU6IFRGaWxlLCBwcm9ncmVzczogUmVhZGluZ1Byb2dyZXNzKSB7XG4gICAgLy8gXHU4QkZCXHU1M0Q2XHU2NTg3XHU0RUY2XHU1MTg1XHU1QkI5XG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgIFxuICAgIC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NjcwOWZyb250bWF0dGVyXG4gICAgY29uc3QgZnJvbnRtYXR0ZXJSZWdleCA9IC9eLS0tXFxuKFtcXHNcXFNdKj8pXFxuLS0tLztcbiAgICBjb25zdCBtYXRjaCA9IGNvbnRlbnQubWF0Y2goZnJvbnRtYXR0ZXJSZWdleCk7XG4gICAgXG4gICAgbGV0IG5ld0NvbnRlbnQ7XG4gICAgY29uc3QgcmVhZGluZ1RpbWUgPSBuZXcgRGF0ZShwcm9ncmVzcy50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgcmVhZGluZ1Byb2dyZXNzUGVyY2VudGFnZSA9IHByb2dyZXNzLnBvc2l0aW9uOyAvLyBcdTUzRUZcdTRFRTVcdThCQTFcdTdCOTdcdTRFM0FcdTc2N0VcdTUyMDZcdTZCRDRcbiAgICBcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIC8vIFx1NjZGNFx1NjVCMFx1NzNCMFx1NjcwOWZyb250bWF0dGVyXG4gICAgICBsZXQgZnJvbnRtYXR0ZXIgPSBtYXRjaFsxXTtcbiAgICAgIFxuICAgICAgLy8gXHU2NkY0XHU2NUIwXHU2MjE2XHU2REZCXHU1MkEwcnN2cF9sYXN0X3Bvc2l0aW9uXG4gICAgICBpZiAoZnJvbnRtYXR0ZXIuaW5jbHVkZXMoJ3JzdnBfbGFzdF9wb3NpdGlvbjonKSkge1xuICAgICAgICBmcm9udG1hdHRlciA9IGZyb250bWF0dGVyLnJlcGxhY2UoL3JzdnBfbGFzdF9wb3NpdGlvbjouKiQvbSwgYHJzdnBfbGFzdF9wb3NpdGlvbjogJHtwcm9ncmVzcy5wb3NpdGlvbn1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyb250bWF0dGVyICs9IGBcXG5yc3ZwX2xhc3RfcG9zaXRpb246ICR7cHJvZ3Jlc3MucG9zaXRpb259YDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gXHU2NkY0XHU2NUIwXHU2MjE2XHU2REZCXHU1MkEwcnN2cF9sYXN0X3JlYWRcbiAgICAgIGlmIChmcm9udG1hdHRlci5pbmNsdWRlcygncnN2cF9sYXN0X3JlYWQ6JykpIHtcbiAgICAgICAgZnJvbnRtYXR0ZXIgPSBmcm9udG1hdHRlci5yZXBsYWNlKC9yc3ZwX2xhc3RfcmVhZDouKiQvbSwgYHJzdnBfbGFzdF9yZWFkOiAke3JlYWRpbmdUaW1lfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJvbnRtYXR0ZXIgKz0gYFxcbnJzdnBfbGFzdF9yZWFkOiAke3JlYWRpbmdUaW1lfWA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIG5ld0NvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoZnJvbnRtYXR0ZXJSZWdleCwgYC0tLVxcbiR7ZnJvbnRtYXR0ZXJ9XFxuLS0tYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFx1NTIxQlx1NUVGQVx1NjVCMFx1NzY4NGZyb250bWF0dGVyXG4gICAgICBjb25zdCBuZXdGcm9udG1hdHRlciA9IGAtLS1cbnJzdnBfbGFzdF9wb3NpdGlvbjogJHtwcm9ncmVzcy5wb3NpdGlvbn1cbnJzdnBfbGFzdF9yZWFkOiAke3JlYWRpbmdUaW1lfVxuLS0tYDtcbiAgICAgIG5ld0NvbnRlbnQgPSBgJHtuZXdGcm9udG1hdHRlcn1cXG5cXG4ke2NvbnRlbnR9YDtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU2NkY0XHU2NUIwXHU2NTg3XHU0RUY2XG4gICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcbiAgfVxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBb0Q7OztBQ0FwRCxzQkFBK0M7QUFHeEMsSUFBTSxpQkFBTixjQUE2QixpQ0FBaUI7QUFBQSxFQUduRCxZQUFZLEtBQVUsUUFBMEI7QUFDOUMsVUFBTSxLQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDaEI7QUFBQSxFQUVBLFVBQWdCO0FBQ2QsVUFBTSxFQUFFLFlBQVksSUFBSTtBQUV4QixnQkFBWSxNQUFNO0FBRWxCLGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0sK0NBQWlCLENBQUM7QUFHckQsZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSx1Q0FBUyxDQUFDO0FBRTdDLFFBQUksd0JBQVEsV0FBVyxFQUNwQixRQUFRLHNDQUFRLEVBQ2hCLFFBQVEsa0VBQWdCLEVBQ3hCLFVBQVUsWUFBVSxPQUNsQixVQUFVLEtBQUssTUFBTSxFQUFFLEVBQ3ZCLFNBQVMsS0FBSyxPQUFPLFNBQVMsWUFBWSxFQUMxQyxrQkFBa0IsRUFDbEIsU0FBUyxPQUFPLFVBQVU7QUFDekIsV0FBSyxPQUFPLFNBQVMsZUFBZTtBQUNwQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDakMsQ0FBQyxDQUFDO0FBRU4sUUFBSSx3QkFBUSxX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
